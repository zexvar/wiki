{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>Welcome to here!</p> <p>Ctrl+C and Ctrl+V is the best invention all over the world!</p> Talk is cheap show me the code. <p>                     Done is better than perfect.                 </p> <p>                     What does your code look like?                 </p>"},{"location":"Docker/docker%20engine/","title":"Docker Engine \u5feb\u901f\u5b89\u88c5","text":""},{"location":"Docker/docker%20engine/#_1","title":"\u901a\u8fc7\u811a\u672c\u5feb\u901f\u5b89\u88c5","text":"<p>\u4f7f\u7528\u5b98\u65b9\u811a\u672c</p> Bash<pre><code>curl -fsSL https://get.docker.com | sh\n</code></pre> <p>\u4f7f\u7528\u963f\u91cc\u4e91\u955c\u50cf\u52a0\u901f</p> Bash<pre><code>curl -fsSL https://get.docker.com | sh -s docker --mirror Aliyun\n</code></pre>"},{"location":"Docker/docker%20engine/#_2","title":"\u624b\u52a8\u5b89\u88c5","text":"<p>\u6253\u5f00Docker engine\u7684\u5b98\u65b9\u5b89\u88c5\u624b\u518c \u6839\u636e\u64cd\u4f5c\u7cfb\u7edf\u9009\u62e9\u5bf9\u5e94\u7684\u53d1\u884c\u7248,\u6309\u7167\u624b\u518c\u5b8c\u6210\u5b89\u88c5</p>"},{"location":"Docker/docker%20engine/#_3","title":"\u5404\u53d1\u884c\u7248\u67b6\u6784\u652f\u6301","text":"Platform x86_64 / amd64 arm64 / aarch64 arm (32-bit) CentOS yes yes - Debian yes yes yes Fedora yes yes - Ubuntu yes yes yes Binaries yes yes yes"},{"location":"Docker/docker%20network/","title":"Docker Network \u7279\u6b8a\u914d\u7f6e","text":""},{"location":"Docker/docker%20network/#_1","title":"\u4fee\u6539\u914d\u7f6e","text":"<p>\u6839\u636e <code>Docker Engine version 27</code> \u66f4\u65b0\u5185\u5bb9\u5f53\u524d\u7248\u672c\u65e0\u9700\u4fee\u6539\u914d\u7f6e</p> <ul> <li><code>ip6tables</code> is no longer experimental. You may remove the experimental configuration option and continue to use IPv6, if it is not required by any other features.</li> <li><code>ip6tables</code> is now enabled for Linux bridge networks by default.</li> </ul>"},{"location":"Docker/docker%20network/#_2","title":"\u5148\u524d\u7248\u672c","text":"<p>\u5bf9\u4e8e Docker Engine version 27 \u4e4b\u524d\u7248\u672c</p> <ul> <li>\u7f16\u8f91\u4f4d\u4e8e <code>/etc/docker/daemon.json</code> \u7684\u914d\u7f6e\u6587\u4ef6</li> </ul> JSON<pre><code>{\n  \"ip6tables\": true,\n  \"experimental\": true\n}\n</code></pre> <ul> <li>\u914d\u7f6e\u751f\u6548 <code>systemctl restart docker</code></li> </ul>"},{"location":"Docker/docker%20network/#ipv6","title":"\u521b\u5efa IPV6 \u7f51\u7edc","text":"<p>\u5bbf\u4e3b\u673a IPV6 \u7f51\u7edc\u9700\u6307\u5b9a\u7f51\u5173\u907f\u514d\u4e22\u5931\u9ed8\u8ba4\u7f51\u5173\u5bfc\u81f4 IPV6 \u6545\u969c</p> <ul> <li>\u521b\u5efa\u7f51\u7edc <code>docker network create --ipv6 ip6net</code></li> <li> <p>\u6307\u5b9a\u7f51\u6bb5 <code>docker network create --ipv6 --subnet fd00::/64 ip6net</code></p> </li> <li> <p>\u5728 docker-compose.yml \u4e2d\u6dfb\u52a0</p> </li> </ul> Text Only<pre><code>networks:\nip6net:\n  external: true\n</code></pre>"},{"location":"Docker/docker%20registry/","title":"Docker Registry \u955c\u50cf\u642d\u5efa","text":""},{"location":"Docker/docker%20registry/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa registry \u6240\u9700\u914d\u7f6e\u6587\u4ef6</p> data/registry/config.yml<pre><code>version: 0.1\nlog:\n  level: error\n\nstorage:\n  delete:\n    enabled: true\n  filesystem:\n    rootdirectory: /var/lib/registry\n  maintenance:\n    uploadpurging:\n      enabled: false\n\nhttp:\n  addr: :5000\n\nproxy:\n  remoteurl: https://registry-1.docker.io\n</code></pre>"},{"location":"Docker/docker%20registry/#_2","title":"\u542f\u52a8\u5bb9\u5668","text":"docker-compose.yml<pre><code>services:\n  registry:\n    image: registry\n    container_name: registry\n    ports:\n      - 5000:5000\n    volumes:\n      - ./data/registry/config.yml:/etc/docker/registry/config.yml\n      - ./data/registry/data:/var/lib/registry\n    restart: always\n</code></pre>"},{"location":"Docker/docker%20registry/#_3","title":"\u4f7f\u7528\u955c\u50cf","text":"/etc/docker/daemon.json<pre><code>{\n  \"registry-mirrors\": [\"http://127.0.0.1:5000\"]\n}\n</code></pre>"},{"location":"Docker/docker%20swarm/","title":"Docker Swarm \u96c6\u7fa4\u642d\u5efa","text":""},{"location":"Docker/docker%20swarm/#_1","title":"\u521d\u59cb\u5316\u96c6\u7fa4","text":""},{"location":"Docker/docker%20swarm/#_2","title":"\u521d\u59cb\u5316\u7ba1\u7406\u8282\u70b9","text":"Bash<pre><code>docker swarm init \\\n--default-addr-pool 172.19.0.0/16 \\\n--task-history-limit 2\n\ndocker swarm init \\\n--default-addr-pool 172.19.0.0/16 \\\n--task-history-limit 2 \\\n--advertise-addr 10.0.0.201\n</code></pre>"},{"location":"Docker/docker%20swarm/#_3","title":"\u6dfb\u52a0\u96c6\u7fa4\u8282\u70b9","text":"<p>\u6839\u636e\u9700\u8981\u5411\u96c6\u7fa4\u7ee7\u7eed\u6dfb\u52a0\u7ba1\u7406\u8282\u70b9\u6216\u5de5\u4f5c\u8282\u70b9</p> <p>\u663e\u793a\u6dfb\u52a0\u7ba1\u7406\u8282\u70b9\u547d\u4ee4 <code>docker swarm join-token manager</code></p> <p>\u663e\u793a\u6dfb\u52a0\u5de5\u4f5c\u8282\u70b9\u547d\u4ee4 <code>docker swarm join-token worker</code></p> <p>\u5728\u7ba1\u7406\u8282\u70b9\u4e0a\u67e5\u770b\u96c6\u7fa4\u72b6\u6001 <code>docker node ls</code></p>"},{"location":"Docker/docker%20swarm/#_4","title":"\u96c6\u7fa4\u670d\u52a1\u6d4b\u8bd5","text":"Bash<pre><code>docker service create \\\n--name whoami \\\n--replicas 1 \\\n--publish published=8081,target=80 \\\ntraefik/whoami\n</code></pre> <p>\u5728 ESXI \u5e73\u53f0\u4e0b VMXNET3 \u7f51\u5361\u5b58\u5728\u901a\u4fe1\u95ee\u9898 (E1000e \u7f51\u5361\u6b63\u5e38)</p> <p>\u8bbf\u95ee\u96c6\u7fa4\u4e2d\u4efb\u610f\u8282\u70b9 8081 \u7aef\u53e3\u90fd\u5e94\u80fd\u591f\u54cd\u5e94</p>"},{"location":"Docker/docker%20swarm/#_5","title":"\u9632\u706b\u5899\u7aef\u53e3","text":"<p>\u67e5\u770b\u9632\u706b\u5899\u89c4\u5219 <code>ufw status verbose</code></p> <ul> <li> <p>manager \u8282\u70b9   <code>ufw allow 9000</code> &amp;&amp;   <code>ufw allow 2377/tcp</code> &amp;&amp;   <code>ufw allow 7946</code> &amp;&amp;   <code>ufw allow 4789/udp</code></p> </li> <li> <p>worker \u8282\u70b9   <code>ufw allow 7946</code> &amp;&amp;   <code>ufw allow 4789/udp</code></p> </li> </ul>"},{"location":"Docker/docker%20update/","title":"Docker Update \u66f4\u65b0\u5bb9\u5668","text":""},{"location":"Docker/docker%20update/#docker-run","title":"Docker run","text":""},{"location":"Docker/docker%20update/#_1","title":"\u66f4\u65b0\u6240\u6709\u5bb9\u5668\u5e76\u5220\u9664\u65e7\u7684\u955c\u50cf","text":"Bash<pre><code>docker run --rm \\\n-v /var/run/docker.sock:/var/run/docker.sock \\\ncontainrrr/watchtower \\\n--run-once -c\n</code></pre>"},{"location":"Docker/docker%20update/#_2","title":"\u6839\u636e\u5bb9\u5668\u540d\u8fdb\u884c\u66f4\u65b0","text":"Bash<pre><code>docker run --rm \\\n-v /var/run/docker.sock:/var/run/docker.sock \\\ncontainrrr/watchtower \\\n--run-once -c container_name\n</code></pre>"},{"location":"Docker/docker%20update/#docker-compose","title":"Docker compose","text":"<p>\u4fee\u6539 <code>docker-compose.yml</code> \u955c\u50cf\u7248\u672c</p> Bash<pre><code>docker compose pull\ndocker compose down\ndocker compose up -d\n# clear old images\ndocker image prune\n</code></pre>"},{"location":"Docker/docker%20update/#docker-stack","title":"Docker stack","text":"<p>\u4fee\u6539 <code>stack.yml</code> \u955c\u50cf\u7248\u672c</p> Bash<pre><code>docker stack deploy -c stack.yml stack\n</code></pre>"},{"location":"Docker/Compose/Cloud/owncloud/","title":"Owncloud \u4e91\u76d8","text":""},{"location":"Docker/Compose/Cloud/owncloud/#_1","title":"\u914d\u7f6e\u6587\u4ef6","text":"docker-compose.yml<pre><code>services:\n  owncloud:\n    image: owncloud/server\n    container_name: owncloud\n    networks:\n      - main\n    volumes:\n      - ./data/owncloud/:/mnt/data\n    environment:\n      # database\n      - OWNCLOUD_DB_TYPE=mysql\n      - OWNCLOUD_DB_HOST=mysql\n      - OWNCLOUD_DB_NAME=owncloud\n      - OWNCLOUD_DB_USERNAME=root\n      - OWNCLOUD_DB_PASSWORD=******\n      - OWNCLOUD_MYSQL_UTF8MB4=true\n      # memcache\n      - OWNCLOUD_REDIS_ENABLED=true\n      - OWNCLOUD_REDIS_HOST=redis\n      - OWNCLOUD_ADMIN_USERNAME=admin\n      - OWNCLOUD_ADMIN_PASSWORD=******\n      - OWNCLOUD_DOMAIN=******\n      #- OWNCLOUD_TRUSTED_DOMAINS=***,***\n      - TZ=Asia/Shanghai\n    labels:\n      - traefik.enable=true\n      - traefik.http.routers.owncloud.rule=HostRegexp(`^cloud.*`)\n      - traefik.http.services.owncloud.loadbalancer.server.port=8080\n    restart: always\n\nnetworks:\n  main:\n    external: true\n</code></pre>"},{"location":"Docker/Compose/Database/database/","title":"\u6570\u636e\u5e93\u670d\u52a1","text":""},{"location":"Docker/Compose/Database/database/#_2","title":"\u914d\u7f6e\u6587\u4ef6","text":"docker-compose.yml<pre><code>services:\n  mysql:\n    image: mysql\n    container_name: mysql\n    networks:\n      - main\n    ports:\n      - 3306:3306\n    volumes:\n      - ./data/mysql/logs:/var/log/mysql\n      - ./data/mysql/data:/var/lib/mysql\n      #- ./data/mysql/my.cnf:/etc/mysql/my.cnf\n    environment:\n      - MYSQL_ROOT_PASSWORD=******\n      - TZ=Asia/Shanghai\n    restart: always\n\n  redis:\n    image: redis\n    container_name: redis\n    networks:\n      - main\n    ports:\n      - 6379:6379\n    volumes:\n      - ./data/redis/data:/data\n      #- ./data/redis/conf/redis.conf:/etc/redis/redis.conf\n    #command: redis-server /etc/redis/redis.conf\n    environment:\n      - TZ=Asia/Shanghai\n    restart: always\n\nnetworks:\n  main:\n    external: true\n</code></pre>"},{"location":"Docker/Compose/Gateway/cloudflared/","title":"Cloudflared \u5185\u7f51\u7a7f\u900f","text":""},{"location":"Docker/Compose/Gateway/cloudflared/#_1","title":"\u670d\u52a1\u4f5c\u7528","text":"<p>\u5229\u7528 Cloudflared Tunnels \u66b4\u9732\u5185\u7f51\u670d\u52a1 \u901a\u8fc7 Cloudflare Zero Trust Warp \u7ec4\u7f51</p>"},{"location":"Docker/Compose/Gateway/cloudflared/#_2","title":"\u914d\u7f6e\u6587\u4ef6","text":"Text Only<pre><code>services:\n  cloudflared:\n    container_name: cloudflared\n    image: cloudflare/cloudflared\n    network_mode: host\n    command: tunnel --no-autoupdate --edge-ip-version 4 run --protocol http2 --token  ******\n    restart: always\n</code></pre>"},{"location":"Docker/Compose/Gateway/cloudflared/#_3","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u9ed8\u8ba4\u4f7f\u7528 <code>quic</code> \u534f\u8bae\u901a\u4fe1 \u8fd0\u8425\u5546\u5bf9 <code>quic</code> \u534f\u8bae\u5b58\u5728\u963b\u65ad</li> <li>\u901a\u8fc7\u8bbe\u7f6e <code>--protocol http2</code> \u53c2\u6570 \u4f7f\u7528 <code>http2</code> \u534f\u8bae\u63d0\u9ad8\u7a33\u5b9a\u6027</li> </ul>"},{"location":"Docker/Compose/Gateway/cloudflared/#_4","title":"\u524d\u7f6e\u4ee3\u7406","text":"<p>\u901a\u8fc7 NGINX \u589e\u52a0\u524d\u7f6e\u4ee3\u66ff\u63d0\u5347\u56fd\u5185\u8bbf\u95ee\u901f\u5ea6</p> <p><code>*.aaa.com -&gt; *.bbb.com -&gt; CF -&gt; HOST</code></p> Text Only<pre><code>map $http_upgrade $connection_upgrade {\n    default upgrade;\n    '' close;\n}\n\nserver {\n    listen 80;\n    server_name ~^(?&lt;subdomain&gt;.+).aaa.com$;\n\n    set $target_host $subdomain.bbb.com\n\n    #sendfile on;\n    tcp_nopush on;\n    tcp_nodelay on;\n    client_max_body_size 1G;\n\n    #proxy_cache off;\n    proxy_buffering off;\n    proxy_http_version 1.1;\n    proxy_request_buffering off;\n\n    proxy_set_header Accept-Encoding \"\";\n    proxy_set_header Range $http_range;\n    proxy_set_header If-Range $http_if_range;\n\n    keepalive_timeout 300s;\n    keepalive_requests 100;\n\n    resolver 1.1.1.1 8.8.8.8 valid=10s;\n\n    location / {\n        proxy_set_header Host $target_host;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection $connection_upgrade;\n\n        proxy_ssl_name $target_host;\n        proxy_ssl_server_name on;\n\n        proxy_pass https://$target_host;\n        proxy_redirect http://$target_host/ https://$host/;\n        proxy_redirect https://$target_host/ https://$host/;\n    }\n}\n</code></pre>"},{"location":"Docker/Compose/Gateway/nginx/","title":"Nginx \u7f51\u5173\u5165\u53e3","text":""},{"location":"Docker/Compose/Gateway/nginx/#_1","title":"\u670d\u52a1\u7ec4\u6210","text":"<ul> <li><code>nginx</code> \u8d1f\u8d23\u53cd\u5411\u4ee3\u7406\u4f5c\u4e3a\u7f51\u5173\u5165\u53e3</li> <li><code>acme</code> \u8d1f\u8d23\u751f\u6210\u548c\u66f4\u65b0 SSL \u8bc1\u4e66</li> </ul>"},{"location":"Docker/Compose/Gateway/nginx/#acme","title":"\u901a\u8fc7 ACME \u73af\u5883\u53d8\u91cf\u5b89\u88c5\u8bc1\u4e66","text":"<p>\u901a\u8fc7 ACME \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e,\u6307\u5b9a\u8bc1\u4e66\u5b89\u88c5\u4f4d\u7f6e,\u5e76\u5728\u8bc1\u4e66\u66f4\u6539\u540e\u81ea\u52a8\u91cd\u542f nginx \u670d\u52a1,\u786e\u4fdd\u65b0\u8bc1\u4e66\u88ab nginx \u4f7f\u7528.</p> docker-compose.yml<pre><code>services:\n  nginx:\n    image: nginx\n    container_name: nginx\n    network_mode: host\n    labels:\n      - \"nginx\"\n    volumes:\n      - /etc/nginx/nginx.conf:/etc/nginx/nginx.conf\n      - /etc/nginx/conf.d:/etc/nginx/conf.d\n      - /etc/nginx/ssl:/etc/nginx/ssl\n      - /etc/hosts:/etc/hosts\n    restart: always\n\n  acme:\n    image: neilpang/acme.sh\n    container_name: acme\n    environment:\n      - CF_Token=******\n      - CF_Account_ID=******\n      - DEPLOY_DOCKER_CONTAINER_LABEL=\"nginx\"\n      - DEPLOY_DOCKER_CONTAINER_RELOAD_CMD=\"nginx -s reload\"\n      - DEPLOY_DOCKER_CONTAINER_KEY_FILE=/etc/nginx/ssl/key.pem\n      - DEPLOY_DOCKER_CONTAINER_FULLCHAIN_FILE=/etc/nginx/ssl/cert.pem\n    volumes:\n      - /etc/acme:/acme.sh\n      - /var/run/docker.sock:/var/run/docker.sock:ro\n    restart: always\n    command: daemon\n</code></pre>"},{"location":"Docker/Compose/Gateway/nginx/#_2","title":"\u624b\u52a8\u914d\u7f6e\u670d\u52a1","text":"docker-compose.yml<pre><code>services:\n  nginx:\n    image: nginx\n    container_name: nginx\n    network_mode: host\n    volumes:\n      - /etc/nginx/nginx.conf:/etc/nginx/nginx.conf\n      - /etc/nginx/conf.d:/etc/nginx/conf.d\n      - /etc/nginx/ssl:/etc/nginx/ssl\n      - /etc/hosts:/etc/hosts\n    restart: always\n\n  acme:\n    image: neilpang/acme.sh\n    container_name: acme\n    network_mode: host\n    volumes:\n      - /etc/acme:/acme.sh\n      - /etc/nginx/ssl/:/ssl\n    environment:\n      - CF_Token=******\n      - CF_Account_ID=******\n    restart: always\n    command: daemon\n</code></pre> <p>ACME \u914d\u7f6e</p> Bash<pre><code># \u751f\u6210\u8bc1\u4e66\ndocker exec acme --set-default-ca --server letsencrypt --issue --dns dns_cf -d *.abc.com\n\n# \u5b89\u88c5\u8bc1\u4e66\ndocker exec acme --install-cert -d *.abc.com --key-file /ssl/key.pem --fullchain-file /ssl/cert.pem\n</code></pre> <p>\u5b9a\u65f6\u66f4\u65b0\u8bc1\u4e66 <code>0 0 * * * docker exec acme --cron</code></p>"},{"location":"Docker/Compose/Gateway/traefik/","title":"Traefik \u7f51\u5173\u5165\u53e3","text":""},{"location":"Docker/Compose/Gateway/traefik/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u7f51\u7edc\u7528\u4e8e traefik \u8def\u7531 docker \u670d\u52a1</p> Bash<pre><code>docker network create traefik --ipv6\n</code></pre> <p>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6</p> traefik.yml<pre><code>api:\n  insecure: true\n  dashboard: true\n\nentryPoints:\n  web:\n    address: \":80\"\n    http:\n      redirections:\n        entryPoint:\n          to: websecure\n          scheme: https\n  websecure:\n    address: \":443\"\n    forwardedHeaders:\n      insecure: true\n    http:\n      tls:\n        certResolver: default\n        domains:\n        - main: \"xxx.com\"\n          sans:\n            - \"*.xxx.com\"\n\nproviders:\n  docker:\n    watch: true\n    network: traefik\n    exposedByDefault: false\n    endpoint: unix:///var/run/docker.sock\n  file:\n    watch: true\n    directory: /etc/traefik/config\n\ncertificatesResolvers:\n  default:\n    acme:\n      email: ******\n      storage: /etc/traefik/acme.json\n      dnsChallenge:\n        provider: cloudflare\n</code></pre>"},{"location":"Docker/Compose/Gateway/traefik/#_2","title":"\u914d\u7f6e\u6587\u4ef6","text":"docker-compose.yml<pre><code>services:\n  traefik:\n    image: traefik\n    container_name: traefik\n    networks:\n      - traefik\n    ports:\n      - target: 80\n        published: 80\n        protocol: tcp\n        mode: host\n      - target: 443\n        published: 443\n        protocol: tcp\n        mode: host\n    volumes:\n      - ./data/traefik:/etc/traefik\n      - /var/run/docker.sock:/var/run/docker.sock\n    environment:\n      - CF_DNS_API_TOKEN=******\n      - CF_ZONE_API_TOKEN=******\n      - TZ=Asia/Shanghai\n    restart: always\n</code></pre>"},{"location":"Docker/Compose/Media/down/","title":"\u5a92\u4f53\u4e0b\u8f7d\u670d\u52a1","text":""},{"location":"Docker/Compose/Media/down/#_2","title":"\u914d\u7f6e\u6587\u4ef6","text":"docker-compose.yml<pre><code>services:\n  qbit:\n    image: linuxserver/qbittorrent\n    container_name: qbit\n    networks:\n      - traefik\n    ports:\n      - 57891:57891\n      - 57891:57891/udp\n    volumes:\n      - ./data/qbit:/config\n      - downloads:/downloads\n    environment:\n      - TZ=Asia/Shanghai\n      - TORRENTING_PORT=57891\n      - DOCKER_MODS=ghcr.io/vuetorrent/vuetorrent-lsio-mod:latest\n    labels:\n      - traefik.enable=true\n      - traefik.http.routers.qbit.rule=HostRegexp(`^qbit.*`)\n      - traefik.http.services.qbit.loadbalancer.server.port=8080\n    restart: always\n\n  iyuu:\n    image: iyuucn/iyuuplus-dev\n    container_name: iyuu\n    networks:\n      - traefik\n    volumes:\n      - ./data/iyuu/data:/data\n      - ./data/iyuu/config:/iyuu\n    labels:\n      - traefik.enable=true\n      - traefik.http.routers.iyuu.rule=HostRegexp(`^iyuu.*`)\n      - traefik.http.services.iyuu.loadbalancer.server.port=8780\n    restart: always\n\nnetworks:\n  traefik:\n    external: true\n\nvolumes:\n  downloads:\n    external: true\n</code></pre>"},{"location":"Docker/Compose/Media/media/","title":"\u5a92\u4f53\u7ba1\u7406\u670d\u52a1","text":""},{"location":"Docker/Compose/Media/media/#_2","title":"\u521b\u5efa\u6302\u8f7d\u5377","text":"Bash<pre><code>docker volume create --driver local \\\n--opt type=nfs \\\n--opt o=addr=10.0.0.30,rw,nfsvers=4 \\\n--opt device=:/mnt/main/down \\\ndownloads\n</code></pre>"},{"location":"Docker/Compose/Media/media/#_3","title":"\u914d\u7f6e\u6587\u4ef6","text":"docker-compose.yml<pre><code>services:\n  flaresolverr:\n    image: flaresolverr/flaresolverr\n    container_name: flaresolverr\n    networks:\n      - traefik\n    labels:\n      - traefik.enable=true\n      - traefik.http.routers.flaresolver.rule=HostRegexp(`^flare.*`)\n      - traefik.http.services.flaresolver.loadbalancer.server.port=8191\n    restart: always\n\n  jackett:\n    image: linuxserver/jackett\n    container_name: jackett\n    networks:\n      - traefik\n    volumes:\n      - ./data/jackett:/config\n    environment:\n      - TZ=Asia/Shanghai\n    labels:\n      - traefik.enable=true\n      - traefik.http.routers.jackett.rule=HostRegexp(`^jackett.*`)\n      - traefik.http.services.jackett.loadbalancer.server.port=9117\n    restart: always\n\n  prowlarr:\n    image: linuxserver/prowlarr\n    container_name: prowlarr\n    networks:\n      - traefik\n    volumes:\n      - ./data/prowlarr:/config\n    environment:\n      - TZ=Asia/Shanghai\n    labels:\n      - traefik.enable=true\n      - traefik.http.routers.prowlarr.rule=HostRegexp(`^prowlarr.*`)\n      - traefik.http.services.prowlarr.loadbalancer.server.port=9696\n    restart: always\n\n  radarr:\n    image: linuxserver/radarr\n    container_name: radarr\n    networks:\n      - traefik\n    volumes:\n      - ./data/radarr:/config\n      - downloads:/downloads\n    environment:\n      - TZ=Asia/Shanghai\n    labels:\n      - traefik.enable=true\n      - traefik.http.routers.radarr.rule=HostRegexp(`^radarr.*`)\n      - traefik.http.services.radarr.loadbalancer.server.port=7878\n    restart: always\n\n  sonarr:\n    image: linuxserver/sonarr\n    container_name: sonarr\n    networks:\n      - traefik\n    volumes:\n      - ./data/sonarr:/config\n      - downloads:/downloads\n    environment:\n      - TZ=Asia/Shanghai\n    labels:\n      - traefik.enable=true\n      - traefik.http.routers.sonarr.rule=HostRegexp(`^sonarr.*`)\n      - traefik.http.services.sonarr.loadbalancer.server.port=8989\n    restart: always\n\nnetworks:\n  traefik:\n    external: true\n\nvolumes:\n  downloads:\n    external: true\n</code></pre>"},{"location":"Docker/Compose/Media/rclone/","title":"Rclone \u6302\u8f7d\u78c1\u76d8","text":""},{"location":"Docker/Compose/Media/rclone/#rclone_1","title":"\u521b\u5efa Rclone \u914d\u7f6e","text":"<p>\u4ee5 onedrive \u4e3a\u4f8b\u5b50</p> <ul> <li>\u6dfb\u52a0<code>:shared</code>\u53c2\u6570\u6302\u8f7d\u5230\u5bbf\u4e3b\u673a</li> </ul>"},{"location":"Docker/Compose/Media/rclone/#_1","title":"\u914d\u7f6e\u6587\u4ef6","text":"<p><code>yml title='docker-compose.yml'services: rclone:   image: rclone/rclone   container_name: rclone   network_mode: bridge   privileged: true   volumes:     - /root/.config/rclone/:/config/rclone     - /mnt/onedrive:/onedrive:shared   command: &gt;     mount onedrive:/ /onedrive     --allow-other     --allow-non-empty     --vfs-cache-mode full     --vfs-cache-max-size 100G   restart: always</code></p>"},{"location":"Docker/Compose/Network/tailscale/","title":"Tailscale \u7ec4\u7f51","text":"<p>Tailscale makes creating software-defined networks easy: securely connecting users, services, and devices.</p> <p>\u5b98\u7f51\u94fe\u63a5 Tailscale</p> <p>\u76f4\u63a5\u5b89\u88c5 <code>curl -fsSL https://tailscale.com/install.sh | sh</code></p>"},{"location":"Docker/Compose/Network/tailscale/#tailscale_1","title":"Tailscale","text":""},{"location":"Docker/Compose/Network/tailscale/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u5728\u63a7\u5236\u53f0\u751f\u6210 Auth key \u7528\u4e8e\u8eab\u4efd\u9a8c\u8bc1</p>"},{"location":"Docker/Compose/Network/tailscale/#_2","title":"\u914d\u7f6e\u6587\u4ef6","text":"docker-compose.yml<pre><code>services:\n  tailscale:\n    image: tailscale/tailscale\n    container_name: tailscale\n    network_mode: host\n    cap_add:\n      - NET_ADMIN\n      - SYS_ADMIN\n    volumes:\n      - ./data/tailscale:/var/lib/tailscale\n      - /dev/net/tun:/dev/net/tun\n    environment:\n      - TS_USERSPACE=false\n      - TS_STATE_DIR=/var/lib/tailscale\n      - TS_AUTHKEY=&lt;AUTH_KEY&gt;\n    restart: always\n</code></pre>"},{"location":"Docker/Compose/Network/tailscale/#derp","title":"Derp","text":"<p>You must use port TCP 80 for HTTP. By default, HTTPS runs on port 443, and STUN runs on 3478. To use other port numbers for HTTPS and STUN, set DERPNode.DERPPort or DERPNode.STUNPort, respectively.</p>"},{"location":"Docker/Compose/Network/tailscale/#_3","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u6784\u5efa\u955c\u50cf</p> Dockerfile<pre><code>FROM golang:alpine AS builder\nRUN go install tailscale.com/cmd/derper@main\n\nFROM alpine\nCOPY --from=builder /go/bin/derper /usr/bin/derper\nENTRYPOINT [\"derper\"]\n</code></pre> <p>\u751f\u6210\u955c\u50cf <code>docker build -t derp .</code></p>"},{"location":"Docker/Compose/Network/tailscale/#_4","title":"\u914d\u7f6e\u6587\u4ef6","text":"docker-compose.yml<pre><code>services:\n  derp:\n    image: derp\n    container_name: derp\n    network_mode: host\n    volumes:\n      - /var/run/tailscale/tailscaled.sock:/var/run/tailscale/tailscaled.sock\n    command: \"--hostname=&lt;DOMAIN_NAME&gt; --verify-clients\"\n    restart: always\n</code></pre>"},{"location":"Docker/Compose/Network/zerotier/","title":"Zerotier \u7ec4\u7f51","text":"<p>ZeroTier is a secure network overlay that allows you to manage all of your network resources as if they were on the same LAN. The software-defined solution can be deployed in minutes from anywhere. No matter how many devices you need to connect, or where they are in the world, ZeroTier makes global networking simple.</p> <p>\u5b98\u7f51\u94fe\u63a5 Zerotier</p>"},{"location":"Docker/Compose/Network/zerotier/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u4e00\u4e2a\u7f51\u7edc\u5e76\u590d\u5236\u7f51\u7edc ID</p>"},{"location":"Docker/Compose/Network/zerotier/#_2","title":"\u914d\u7f6e\u6587\u4ef6","text":"docker-compose.yml<pre><code>services:\n  zerotier:\n    image: zerotier/zerotier\n    container_name: zerotier\n    network_mode: host\n    cap_add:\n      - NET_ADMIN\n      - SYS_ADMIN\n    devices:\n      - /dev/net/tun\n    volumes:\n      - ./data/zerotier:/var/lib/zerotier-one/\n    command: &lt;NETWORK_ID&gt;\n    restart: always\n</code></pre>"},{"location":"Docker/Compose/Network/zerotier/#_3","title":"\u6279\u51c6\u767b\u5f55","text":"<p>\u767b\u5f55 Zerotier \u63a7\u5236\u53f0\u6279\u51c6\u8bbe\u5907</p>"},{"location":"Docker/Run/Cloud/alist/","title":"Alist \u805a\u5408\u4e91\u76d8","text":""},{"location":"Docker/Run/Cloud/alist/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u76ee\u5f55</p> Bash<pre><code>mkdir -p /opt/alist/data\n</code></pre>"},{"location":"Docker/Run/Cloud/alist/#_2","title":"\u8fd0\u884c\u5bb9\u5668","text":"<p>\u542f\u52a8\u5bb9\u5668</p> Bash<pre><code>docker run -d --restart=always \\\n-p 5244:5244 --name=\"alist\" \\\n-v /opt/alist/data:/opt/alist/data \\\nxhofe/alist:latest\n</code></pre>"},{"location":"Docker/Run/Cloud/alist/#_3","title":"\u521d\u59cb\u5bc6\u7801","text":"<p>\u67e5\u770b\u968f\u673a\u751f\u6210\u7684\u521d\u59cb\u5bc6\u7801</p> Bash<pre><code>docker logs alist\n## Successfully created the admin user and the initial password is: FwZ72nvw ##\n</code></pre>"},{"location":"Docker/Run/Cloud/alist/#_4","title":"\u5176\u4ed6\u6570\u636e\u5e93","text":"<p>\u9ed8\u8ba4\u6570\u636e\u5e93\u4e3a sqlite \u5207\u6362\u6210 MySQL \u6570\u636e\u5e93\u83b7\u53d6\u66f4\u597d\u7684\u6027\u80fd</p> <p>\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6</p> /opt/alist/data/config.json<pre><code>\"database\": {\n    \"type\": \"mysql\",\n    \"host\": \"127.0.0.1\",\n    \"port\": 3306,\n    \"user\": \"root\",\n    \"password\": \"123456\",\n    \"name\": \"alist\",\n    \"db_file\": \"data/data.db\",\n    \"table_prefix\": \"x_\",\n    \"ssl_mode\": \"\"\n}\n</code></pre> <p>\u91cd\u65b0\u542f\u52a8\u5bb9\u5668</p> Bash<pre><code># \u91cd\u542f\u540e\u6570\u636e\u5e93\u540e\u4f1a\u81ea\u52a8\u5efa\u8868\ndocker restart alist\n</code></pre>"},{"location":"Docker/Run/Cloud/alist/#_5","title":"\u8fc1\u79fb\u65e7\u6570\u636e","text":"<ol> <li>\u4f7f\u7528\u6570\u636e\u5e93\u5de5\u5177\u6253\u5f00 <code>/opt/alist/data/data.db</code> \u7c7b\u578b\u4e3a sqlite3</li> <li>\u6e05\u9664 mysql \u6570\u636e\u5e93\u4e2d\u81ea\u52a8\u751f\u6210\u7684\u6570\u636e</li> <li>\u4ece sqlite \u5bfc\u51fa sql \u8bed\u53e5,\u5728 mysql \u4e2d\u6267\u884c</li> </ol>"},{"location":"Docker/Run/Cloud/cloudreve/","title":"Cloudreve \u4e91\u76d8","text":""},{"location":"Docker/Run/Cloud/cloudreve/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u76ee\u5f55</p> Bash<pre><code>mkdir -p /opt/cloudreve/uploads\nmkdir -p /opt/cloudreve/avatar\n</code></pre> <p>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6</p> /opt/cloudreve/conf.ini<pre><code>[Database]\nType = mysql\nPort = 3306\nUser = root\nPassword = 123456\nHost = 127.0.0.1\nName = cloudreve\nTablePrefix = cd\nCharset = utf8\n</code></pre>"},{"location":"Docker/Run/Cloud/cloudreve/#_2","title":"\u542f\u52a8\u5bb9\u5668","text":"Bash<pre><code>docker run -d --restart=always --privileged=true \\\n-p 5212:5212 --name cloudreve \\\n--mount type=bind,source=/opt/cloudreve/conf.ini,target=/cloudreve/conf.ini \\\n-v /opt/cloudreve/uploads:/cloudreve/uploads \\\n-v /opt/cloudreve/avatar:/cloudreve/avatar \\\ncloudreve/cloudreve:latest\n</code></pre>"},{"location":"Docker/Run/Cloud/filebrowser/","title":"Filerowser \u8f7b\u91cf\u7f51\u76d8","text":""},{"location":"Docker/Run/Cloud/filebrowser/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u76ee\u5f55\u548c\u6570\u636e\u5e93</p> Bash<pre><code>mkdir -p /opt/filebrowser\ntouch /opt/filebrowser/database.db\n</code></pre>"},{"location":"Docker/Run/Cloud/filebrowser/#_2","title":"\u8fd0\u884c\u5bb9\u5668","text":"<p>mnt \u4e3a\u6302\u8f7d\u7684\u8fdc\u7a0b\u6587\u4ef6\u5939</p> Bash<pre><code>docker run -d --name=filebrowser \\\n-p 8000:80 \\\n-v /mnt/file:/srv \\\n-v /opt/filebrowser/database.db:/database.db \\\n--restart=always \\\nfilebrowser/filebrowser\n</code></pre>"},{"location":"Docker/Run/Cloud/filebrowser/#_3","title":"\u9ed8\u8ba4\u5bc6\u7801","text":"<p>\u9ed8\u8ba4 <code>\u7528\u6237\u540d/\u5bc6\u7801</code> \u4e3a <code>admin/admin</code></p>"},{"location":"Docker/Run/Cloud/filebrowser/#_4","title":"\u8bbe\u7f6e\u6587\u4ef6","text":"<p>\u9ed8\u8ba4\u8bbe\u7f6e\u5185\u5bb9\u5728\u5bb9\u5668\u5185</p> /.filebrowser.json<pre><code>{\n  \"port\": 80,\n  \"baseURL\": \"\",\n  \"address\": \"\",\n  \"log\": \"stdout\",\n  \"database\": \"/database.db\",\n  \"root\": \"/srv\"\n}\n</code></pre>"},{"location":"Docker/Run/Database/minio/","title":"Minio \u6587\u4ef6\u5b58\u50a8\u670d\u52a1","text":""},{"location":"Docker/Run/Database/minio/#_1","title":"\u5feb\u901f\u90e8\u7f72","text":"<p>\u65e0\u6570\u636e\u6301\u4e45\u5316</p> Bash<pre><code>docker run -d --restart=always --name minio -p 9000:9000 -p 9001:9001 minio/minio server /data --console-address \":9001\"\n</code></pre>"},{"location":"Docker/Run/Database/minio/#_2","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u76ee\u5f55</p> Bash<pre><code>mkdir -p /opt/minio/data\n</code></pre>"},{"location":"Docker/Run/Database/minio/#_3","title":"\u8fd0\u884c\u5bb9\u5668","text":"<p>\u542f\u52a8\u5bb9\u5668</p> Bash<pre><code>docker run --restart=always\\\n-p 9000:9000 -p 9001:9001 --name minio \\\n-v /opt/minio/data:/data \\\n-e \"MINIO_ROOT_USER=minioadmin\" \\\n-e \"MINIO_ROOT_PASSWORD=minioadmin\" \\\n-d minio/minio  \\\nserver /data --console-address \":9001\"\n</code></pre>"},{"location":"Docker/Run/Database/mysql/","title":"MySQL \u6570\u636e\u5e93","text":""},{"location":"Docker/Run/Database/mysql/#_1","title":"\u5feb\u901f\u90e8\u7f72","text":"<p>\u65e0\u6570\u636e\u6301\u4e45\u5316</p> Bash<pre><code>docker run --restart=always --privileged=true -p 3306:3306 --name mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql\n</code></pre>"},{"location":"Docker/Run/Database/mysql/#_2","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u76ee\u5f55</p> Bash<pre><code>mkdir -p /opt/mysql/logs/\nmkdir -p /opt/mysql/data/\n</code></pre> <p>\u521b\u5efa my.cnf \u914d\u7f6e\u6587\u4ef6</p> /opt/mysql/my.cnf<pre><code>[mysqld]\nskip-name-resolve\ndefault-time-zone='Asia/Shanghai'\ncharacter-set-server=utf8mb4\n\n[client]\ndefault-character-set=utf8mb4\n</code></pre>"},{"location":"Docker/Run/Database/mysql/#_3","title":"\u8fd0\u884c\u5bb9\u5668","text":"<p>\u542f\u52a8\u5bb9\u5668</p> Bash<pre><code>docker run --restart=always \\\n-p 3306:3306 --name mysql \\\n-v /opt/mysql/data:/var/lib/mysql \\\n-v /opt/mysql/logs:/var/log/mysql \\\n-v /opt/mysql/my.cnf:/etc/mysql/my.cnf \\\n-e MYSQL_ROOT_PASSWORD=123456 -d mysql\n</code></pre>"},{"location":"Docker/Run/Database/postgres/","title":"PostgreSQL \u6570\u636e\u5e93","text":""},{"location":"Docker/Run/Database/postgres/#_1","title":"\u5feb\u901f\u90e8\u7f72","text":"<p>\u65e0\u6570\u636e\u6301\u4e45\u5316</p> Bash<pre><code>docker run -d --restart=always --name postgres -p 5432:5432 -e POSTGRES_PASSWORD=123456 postgres\n</code></pre>"},{"location":"Docker/Run/Database/postgres/#_2","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u76ee\u5f55</p> Bash<pre><code>mkdir -p /opt/postgres/data\n</code></pre>"},{"location":"Docker/Run/Database/postgres/#_3","title":"\u8fd0\u884c\u5bb9\u5668","text":"Bash<pre><code>docker run -d --restart=always --name postgres \\\n-p 5432:5432 \\\n-e POSTGRES_PASSWORD=123456 \\\n-v /opt/postgres/data:/var/lib/postgresql/data \\\npostgres\n</code></pre>"},{"location":"Docker/Run/Database/redis/","title":"Redis \u6570\u636e\u5e93","text":""},{"location":"Docker/Run/Database/redis/#_1","title":"\u5feb\u901f\u90e8\u7f72","text":"<p>\u65e0\u6570\u636e\u6301\u4e45\u5316</p> Bash<pre><code>docker run -itd --restart=always --name redis -p 6379:6379 redis --requirepass 123456\n</code></pre>"},{"location":"Docker/Run/Database/redis/#_2","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u76ee\u5f55</p> Bash<pre><code>mkdir -p /opt/redis/conf\nmkdir -p /opt/redis/data/\n</code></pre> <p>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6</p> /opt/redis/conf/redis.conf<pre><code># \u5141\u8bb8\u6240\u6709ip\u8bbf\u95ee\nbind 0.0.0.0\n# \u5f00\u542f\u6df7\u5408\u6301\u4e45\u5316\naof-use-rdb-preamble yes\n</code></pre>"},{"location":"Docker/Run/Database/redis/#_3","title":"\u8fd0\u884c\u5bb9\u5668","text":"<p>\u542f\u52a8\u5bb9\u5668</p> Bash<pre><code>docker run --restart=always --privileged=true  \\\n-p 6379:6379 --name redis \\\n-v /opt/redis/data:/data \\\n-v /opt/redis/conf/redis.conf:/etc/redis/redis.conf \\\n-d redis redis-server /etc/redis/redis.conf \\\n--requirepass 123456\n</code></pre>"},{"location":"Docker/Run/Media/jackett/","title":"Jackett \u7d22\u5f15\u5668","text":""},{"location":"Docker/Run/Media/jackett/#_1","title":"\u542f\u52a8\u5bb9\u5668","text":"<p>\u4f7f\u7528 linuxserver \u63d0\u4f9b\u7684\u955c\u50cf</p> Bash<pre><code>docker run -d \\\n--name=jackett \\\n-e AUTO_UPDATE=true \\\n-p 9117:9117 \\\n-v /opt/jackett/:/config \\\n--restart always \\\nlscr.io/linuxserver/jackett:latest\n</code></pre>"},{"location":"Docker/Run/Media/jackett/#_2","title":"\u6dfb\u52a0\u7d22\u5f15","text":"<p>\u70b9\u51fb <code>Add indexer</code> \u9009\u53d6\u9700\u8981\u7684\u7d22\u5f15</p>"},{"location":"Docker/Run/Media/jellyfin/","title":"Jellyfin \u5f71\u97f3\u670d\u52a1\u5668","text":""},{"location":"Docker/Run/Media/jellyfin/#_1","title":"\u955c\u50cf\u4fe1\u606f","text":"<p>\u4f7f\u7528\u955c\u50cf\u4e3a <code>linuxserver/jellyfin</code></p> <p>\u955c\u50cf\u786c\u4ef6\u52a0\u901f\u652f\u6301: <code>Intel</code> <code>Nvidia</code> ...</p> <p>Docker hub \u94fe\u63a5</p>"},{"location":"Docker/Run/Media/jellyfin/#_2","title":"\u786c\u4ef6\u52a0\u901f","text":"<p>\u5b89\u88c5 NVIDIA Container Toolkit NVIDIA Container Toolkit \u80fd\u591f\u4e3a\u5bb9\u5668\u4f7f\u7528 Nvidia GPU \u52a0\u901f\u63d0\u4f9b\u652f\u6301</p> Bash<pre><code># \u68c0\u67e5\u5b89\u88c5\u72b6\u6001\ndocker run --rm --gpus all nvidia/cuda:11.4.3-base-ubuntu20.04 nvidia-smi\n</code></pre>"},{"location":"Docker/Run/Media/jellyfin/#_3","title":"\u8fd0\u884c\u5bb9\u5668","text":"Bash<pre><code>docker run -d \\\n--name=jellyfin \\\n-e PGID=0 \\\n-e PUID=0 \\\n-p 8096:8096 \\\n-v /opt/jellyfin/:/config \\\n-v /mnt/down/:/downloads \\\n--restart=always \\\n--runtime=nvidia \\\n-e NVIDIA_VISIBLE_DEVICES=all \\\nlscr.io/linuxserver/jellyfin:latest\n</code></pre>"},{"location":"Docker/Run/Media/qbittorrent/","title":"QBittorrent \u4e0b\u8f7d\u5de5\u5177","text":""},{"location":"Docker/Run/Media/qbittorrent/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p><code>mkdir -p /opt/qbittorrent/config</code></p>"},{"location":"Docker/Run/Media/qbittorrent/#_2","title":"\u8fd0\u884c\u5bb9\u5668","text":"<p>/mnt/down \u4e3a\u5bbf\u4e3b\u673a\u4e0b\u8f7d\u7684\u6587\u4ef6\u4fdd\u5b58\u4f4d\u7f6e</p> Bash<pre><code>docker run -d \\\n--name=qbittorrent \\\n-e PUID=0 \\\n-e PGID=0 \\\n-e WEBUI_PORT=8080 \\\n-p 8080:8080 \\\n-p 6881:6881 \\\n-p 6881:6881/udp \\\n-v /opt/qbittorrent/:/config \\\n-v /mnt/down:/downloads \\\n--restart always \\\nlscr.io/linuxserver/qbittorrent:latest\n</code></pre>"},{"location":"Docker/Run/Media/qbittorrent/#_3","title":"\u5bbf\u4e3b\u673a\u7f51\u7edc","text":"<p>\u901a\u8fc7\u6b64\u65b9\u5f0f\u53ef\u4ee5\u76f4\u63a5\u652f\u6301 IPV6 \u4e0a\u4f20\u4e0e\u4e0b\u8f7d</p> Bash<pre><code>docker run -d \\\n--name=qbittorrent \\\n--network=host \\\n-e PUID=0 \\\n-e PGID=0 \\\n-e TZ=Asian/Shanghai \\\n-e WEBUI_PORT=8080 \\\n-v /opt/qbittorrent/:/config \\\n-v /mnt/down:/downloads \\\n--restart=always \\\nlscr.io/linuxserver/qbittorrent:latest\n</code></pre>"},{"location":"Docker/Run/Media/radarr/","title":"Radarr \u7535\u5f71\u5e93\u6574\u7406","text":""},{"location":"Docker/Run/Media/radarr/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u76ee\u5f55</p> Bash<pre><code>mkdir -p /opt/radarr/config\n</code></pre>"},{"location":"Docker/Run/Media/radarr/#_2","title":"\u542f\u52a8\u5bb9\u5668","text":"<p>/mnt/down \u4e3a\u6302\u8f7d\u7684\u5a92\u4f53\u6587\u4ef6\u4f4d\u7f6e</p> Bash<pre><code>docker run -d \\\n--name=radarr \\\n-e PUID=0 \\\n-e PGID=0 \\\n-e TZ=Asia/Shanghai \\\n-p 7878:7878 \\\n-v /opt/radarr/:/config \\\n-v /mnt/down:/downloads \\\n--restart always \\\nlscr.io/linuxserver/radarr:latest\n</code></pre>"},{"location":"Docker/Run/Media/sonarr/","title":"Sonarr \u7535\u89c6\u5267\u6574\u7406","text":""},{"location":"Docker/Run/Media/sonarr/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u76ee\u5f55</p> Bash<pre><code>mkdir -p /opt/sonarr/config\n</code></pre>"},{"location":"Docker/Run/Media/sonarr/#_2","title":"\u542f\u52a8\u5bb9\u5668","text":"<p>/mnt/down \u4e3a\u6302\u8f7d\u7684\u5a92\u4f53\u6587\u4ef6\u4f4d\u7f6e</p> Bash<pre><code>docker run -d \\\n--name=sonarr \\\n-e PUID=0 \\\n-e PGID=0 \\\n-e TZ=Asia/Shanghai \\\n-p 8989:8989 \\\n-v /opt/sonarr/:/config \\\n-v /mnt/down:/downloads \\\n--restart always \\\nlscr.io/linuxserver/sonarr:latest\n</code></pre>"},{"location":"Docker/Run/Monitor/cadvisor/","title":"Cadvisor \u5bb9\u5668\u76d1\u63a7","text":""},{"location":"Docker/Run/Monitor/cadvisor/#_1","title":"\u83b7\u53d6\u955c\u50cf","text":"<ul> <li>Docker hub \u63d0\u4f9b\u7684\u955c\u50cf\u5df2\u7ecf\u4e0d\u518d\u66f4\u65b0</li> <li>Google \u5b98\u65b9\u63d0\u4f9b\u7684\u955c\u50cf\u9700\u8981\u7279\u6b8a\u7f51\u7edc\u73af\u5883</li> <li>Github \u4e0b\u8f7d\u4e8c\u8fdb\u5236\u6587\u4ef6\u540e\u81ea\u884c\u6784\u5efa\u955c\u50cf</li> </ul> <p>Github \u94fe\u63a5</p>"},{"location":"Docker/Run/Monitor/cadvisor/#_2","title":"\u542f\u52a8\u5bb9\u5668","text":"Bash<pre><code>docker run \\\n--volume=/:/rootfs:ro \\\n--volume=/var/run:/var/run:ro \\\n--volume=/sys:/sys:ro \\\n--volume=/var/lib/docker/:/var/lib/docker:ro \\\n--volume=/dev/disk/:/dev/disk:ro \\\n--publish=8080:8080 \\\n--detach=true \\\n--name=cadvisor \\\n--privileged \\\n--device=/dev/kmsg \\\n--restart=always \\\ngcr.io/cadvisor/cadvisor\n</code></pre>"},{"location":"Docker/Run/Monitor/cadvisor/#prometheus","title":"\u63a5\u5165 Prometheus","text":"<p>\u68c0\u67e5\u670d\u52a1\u72b6\u6001: http://ip:8080/metrics</p> <p>\u4fee\u6539 Prometheus \u914d\u7f6e\u6587\u4ef6</p> prometheus.yml<pre><code>- job_name: \"cadvisor\"\n  static_configs:\n    - targets:\n        - \"x.x.x.x:8080\"\n</code></pre>"},{"location":"Docker/Stack/Monitor/monitor/","title":"Monitor \u96c6\u7fa4\u76d1\u89c6","text":""},{"location":"Docker/Stack/Monitor/monitor/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6</p> monitor-stack.yml<pre><code>version: \"3.9\"\n\nservices:\n  cadvisor:\n    # image: gcr.dockerproxy.com/cadvisor/cadvisor\n    image: gcr.io/cadvisor/cadvisor\n    networks:\n      - exporter_network\n    volumes:\n      - /var/run/docker.sock:/tmp/docker.sock:ro\n      - /:/rootfs:ro\n      - /var/run:/var/run:ro\n      - /sys:/sys:ro\n      - /var/lib/docker/:/var/lib/docker:ro\n      - /dev/disk/:/dev/disk:ro\n    command:\n      - --docker_only=true\n      - --disable_metrics=advtcp,sched,cpu_topology,resctrl,memory_numa,tcp,hugetlb,referenced_memory,udp,process,accelerator,disk,diskIO,percpu\n    deploy:\n      mode: global\n\n  vmware_exporter:\n    image: pryorda/vmware_exporter\n    networks:\n      - exporter_network\n    environment:\n      - VSPHERE_USER=${VSPHERE_USERNAME}\n      - VSPHERE_PASSWORD=${VSPHERE_PASSWORD}\n      - VSPHERE_HOST=${VSPHERE_HOST}\n      - VSPHERE_IGNORE_SSL=True\n      - VSPHERE_SPECS_SIZE=2000\n    deploy:\n      mode: replicated\n      replicas: 1\n\n  prometheus:\n    image: prom/prometheus\n    user: root\n    networks:\n      - exporter_network\n      - proxy\n    volumes:\n      - prometheus_data:/prometheus\n    command:\n      - --storage.tsdb.retention.time=30d\n    deploy:\n      mode: replicated\n      replicas: 1\n      placement:\n        constraints: [node.role == manager]\n      labels:\n        - traefik.enable=true\n        - traefik.http.routers.prometheus.entryPoints=web\n        - traefik.http.routers.prometheus.rule=HostRegexp(`{host:^prometheus.*}`)\n        - traefik.http.services.prometheus.loadbalancer.server.port=9090\n\n  grafana:\n    image: grafana/grafana\n    user: root\n    networks:\n      - exporter_network\n      - proxy\n    volumes:\n      - grafana_data:/var/lib/grafana\n    environment:\n      - GF_AUTH_ANONYMOUS_ENABLED=true\n    deploy:\n      mode: replicated\n      replicas: 1\n      labels:\n        - traefik.enable=true\n        - traefik.http.routers.grafana.entryPoints=web\n        - traefik.http.routers.grafana.rule=HostRegexp(`{host:^grafana.*}`)\n        - traefik.http.services.grafana.loadbalancer.server.port=3000\n\nnetworks:\n  exporter_network:\n    driver: overlay\n    attachable: true\n  proxy:\n    external: true\n\nvolumes:\n  prometheus_data:\n    driver_opts:\n      type: nfs\n      o: addr=10.0.0.30,rw,nfsvers=4\n      device: :/nfs/volumes-dev/prometheus_data\n  grafana_data:\n    driver_opts:\n      type: nfs\n      o: addr=10.0.0.30,rw,nfsvers=4\n      device: :/nfs/volumes-dev/grafana_data\n</code></pre>"},{"location":"Docker/Stack/Monitor/monitor/#_2","title":"\u90e8\u7f72\u8fd0\u884c","text":"<p>cadvisor \u955c\u50cf\u4ed3\u5e93\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee</p> <p>\u53ef\u4ece Github Releases \u4e0b\u8f7d \u6216\u4ece dockerproxy \u63d0\u4f9b\u7684\u955c\u50cf\u7f51\u7ad9\u83b7\u53d6cadvisor</p> Bash<pre><code>export VSPHERE_USER=root\nexport VSPHERE_PASSWORD=123456\nexport VSPHERE_HOST=10.0.0.100\ndocker stack deploy -c monitor-stack.yml monitor\n</code></pre>"},{"location":"Docker/Stack/Monitor/Config/prometheus/","title":"Prometheus \u914d\u7f6e\u6587\u4ef6","text":"prometheus.yml<pre><code># my global config\nglobal:\n  scrape_interval: 15s # Set the scrape interval to every 15 seconds. Default is every 1 minute.\n  evaluation_interval: 15s # Evaluate rules every 15 seconds. The default is every 1 minute.\n  # scrape_timeout is set to the global default (10s).\n\n# Alertmanager configuration\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets:\n          # - alertmanager:9093\n\n# Load rules once and periodically evaluate them according to the global 'evaluation_interval'.\nrule_files:\n  # - \"first_rules.yml\"\n  # - \"second_rules.yml\"\n\n# A scrape configuration containing exactly one endpoint to scrape:\n# Here it's Prometheus itself.\nscrape_configs:\n  # The job name is added as a label `job=&lt;job_name&gt;` to any timeseries scraped from this config.\n  - job_name: 'cadvisor'\n    # metrics_path: '/metrics'\n    dns_sd_configs:\n    - names:\n      - 'tasks.cadvisor'\n      type: 'A'\n      port: 8080\n\n  - job_name: 'vmware_exporter'\n    metrics_path: '/metrics'\n    dns_sd_configs:\n    - names:\n      - 'tasks.vmware_exporter'\n      type: 'A'\n      port: 9272\n</code></pre>"},{"location":"Docker/Stack/Portainer/portainer/","title":"Portainer \u7ba1\u7406\u9762\u677f","text":""},{"location":"Docker/Stack/Portainer/portainer/#_1","title":"\u90e8\u7f72\u7c7b\u578b","text":"<ul> <li> <p>\u90e8\u7f72 Portainer \u548c Agent</p> <p>\u4ece\u672a\u90e8\u7f72\u8fc7 Portainer/Agent</p> </li> <li> <p>\u4ec5\u90e8\u7f72 Portainer</p> <p>\u7528\u4e8e\u7ba1\u7406\u5df2\u7ecf\u90e8\u7f72 Agent \u7684\u8282\u70b9</p> </li> <li> <p>\u4ec5\u90e8\u7f72 Agent</p> <p>\u4f7f\u7528\u5df2\u7ecf\u90e8\u7f72\u7684 Portainer \u7ba1\u7406</p> </li> </ul>"},{"location":"Docker/Stack/Portainer/Config/0-all/","title":"Portainer and Agent","text":""},{"location":"Docker/Stack/Portainer/Config/0-all/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6</p> portainer-stack.yml<pre><code>version: \"3.9\"\n\nservices:\n  agent:\n    image: portainer/agent\n    networks:\n      - agent_network\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock\n      - /var/lib/docker/volumes:/var/lib/docker/volumes\n    environment:\n      - AGENT_SECRET=${AGENT_SECRET}\n    deploy:\n      mode: global\n      placement:\n        constraints: [node.platform.os == linux]\n\n  portainer:\n    image: portainer/portainer-ce\n    command: -H tcp://tasks.agent:9001 --tlsskipverify\n    networks:\n      - agent_network\n      - proxy\n    ports:\n      - 9000:9000\n    volumes:\n      - portainer_data:/data\n    environment:\n      - AGENT_SECRET=${AGENT_SECRET}\n    deploy:\n      mode: replicated\n      replicas: 1\n      placement:\n        constraints: [node.role == manager]\n      labels:\n        - traefik.enable=true\n        - traefik.http.routers.portainer.entryPoints=web\n        - traefik.http.routers.portainer.rule=HostRegexp(`{host:^portainer.*}`)\n        - traefik.http.services.portainer.loadbalancer.server.port=9000\n\nnetworks:\n  agent_network:\n    driver: overlay\n    attachable: true\n  proxy:\n    external: true\n\nvolumes:\n  portainer_data:\n    driver_opts:\n      type: nfs\n      o: addr=10.0.0.30,rw,nfsvers=4\n      device: :/nfs/volumes-dev/portainer_data\n</code></pre>"},{"location":"Docker/Stack/Portainer/Config/0-all/#_2","title":"\u90e8\u7f72\u8fd0\u884c","text":"<p>\u8bbe\u7f6e <code>AGENT_SECRET</code> \u53d8\u91cf : \u5f53 Portainer \u548c Agent \u6b64\u53d8\u91cf\u503c\u4e0d\u540c\u65f6\u62d2\u7edd\u8fde\u63a5</p> <p>\u52a0\u5165 <code>proxy</code> \u7f51\u7edc : \u4e3a\u4f7f\u7528 Traefik \u4ee3\u7406 Portainer \u505a\u51c6\u5907</p> Bash<pre><code>export AGENT_SECRET=123456\ndocker network create --driver overlay proxy --attachable\ndocker stack deploy -c portainer-stack.yml portainer\n</code></pre>"},{"location":"Docker/Stack/Portainer/Config/1-portainer/","title":"Portainer only","text":""},{"location":"Docker/Stack/Portainer/Config/1-portainer/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6</p> portainer-stack.yml<pre><code>version: \"3.9\"\n\nservices:\n  portainer:\n    image: portainer/portainer-ce\n    networks:\n      - proxy\n    ports:\n      - 9000:9000\n    volumes:\n      - portainer_data:/data\n    environment:\n      - AGENT_SECRET=${AGENT_SECRET}\n    deploy:\n      mode: replicated\n      replicas: 1\n      placement:\n        constraints: [node.role == manager]\n      labels:\n        - traefik.enable=true\n        - traefik.http.routers.portainer.entryPoints=web\n        - traefik.http.routers.portainer.rule=HostRegexp(`{host:^portainer.*}`)\n        - traefik.http.services.portainer.loadbalancer.server.port=9000\n\nnetworks:\n  proxy:\n    external: true\n\nvolumes:\n  portainer_data:\n    driver_opts:\n      type: nfs\n      o: addr=10.0.0.30,rw,nfsvers=4\n      device: :/nfs/volumes-dev/portainer_data\n</code></pre>"},{"location":"Docker/Stack/Portainer/Config/1-portainer/#_2","title":"\u90e8\u7f72\u8fd0\u884c","text":"<p>\u8bbe\u7f6e <code>AGENT_SECRET</code> \u53d8\u91cf : \u5f53 Portainer \u548c Agent \u6b64\u53d8\u91cf\u503c\u4e0d\u540c\u65f6\u62d2\u7edd\u8fde\u63a5</p> <p>\u52a0\u5165 <code>proxy</code> \u7f51\u7edc : \u4e3a\u4f7f\u7528 Traefik \u4ee3\u7406 Portainer \u505a\u51c6\u5907</p> Bash<pre><code>export AGENT_SECRET=123456\ndocker network create --driver overlay proxy --attachable\ndocker stack deploy -c portainer-stack.yml portainer\n</code></pre>"},{"location":"Docker/Stack/Portainer/Config/2-agent/","title":"Agent only","text":""},{"location":"Docker/Stack/Portainer/Config/2-agent/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6</p> portainer-stack.yml<pre><code>version: \"3.9\"\n\nservices:\n  agent:\n    image: portainer/agent\n    networks:\n      - agent_network\n    ports:\n      - 9001:9001\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock\n      - /var/lib/docker/volumes:/var/lib/docker/volumes\n    environment:\n      - AGENT_SECRET=${AGENT_SECRET}\n    deploy:\n      mode: global\n      placement:\n        constraints: [node.platform.os == linux]\n\nnetworks:\n  agent_network:\n      driver: overlay\n      attachable: true\n</code></pre>"},{"location":"Docker/Stack/Portainer/Config/2-agent/#_2","title":"\u90e8\u7f72\u8fd0\u884c","text":"<p>\u8bbe\u7f6e <code>AGENT_SECRET</code> \u53d8\u91cf : \u5f53 Portainer \u548c Agent \u6b64\u53d8\u91cf\u503c\u4e0d\u540c\u65f6\u62d2\u7edd\u8fde\u63a5</p> <p>\u52a0\u5165 <code>proxy</code> \u7f51\u7edc : \u4e3a\u4f7f\u7528 Traefik \u4ee3\u7406 Portainer \u505a\u51c6\u5907</p> Bash<pre><code>export AGENT_SECRET=123456\ndocker network create --driver overlay proxy --attachable\ndocker stack deploy -c portainer-stack.yml portainer\n</code></pre>"},{"location":"Docker/Stack/Proxy/traefik/","title":"Traefik \u53cd\u5411\u4ee3\u7406\u670d\u52a1\u90e8\u7f72","text":""},{"location":"Docker/Stack/Proxy/traefik/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6</p> proxy-stack.yml<pre><code>version: \"3.9\"\n\nservices:\n  traefik:\n    image: traefik:latest\n    networks:\n      - proxy\n    ports:\n      - 80:80\n      - 8080:8080\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock\n    command:\n      - --accesslog=true\n      - --api.insecure=true\n      - --metrics.prometheus=true\n      - --entrypoints.web.address=:80\n      - --providers.docker.network=proxy\n      - --providers.docker.swarmMode=true\n      - --providers.docker.exposedbydefault=false\n      - --providers.docker.endpoint=unix:///var/run/docker.sock\n    deploy:\n      mode: replicated\n      replicas: 1\n      placement:\n        constraints: [node.role == manager]\n      labels:\n        - traefik.enable=true\n        - traefik.http.routers.traefik-auth.entrypoints=web\n        - traefik.http.routers.traefik-auth.rule=HostRegexp(`{host:^traefik.*}`)\n        - traefik.http.services.traefik-auth.loadbalancer.server.port=8080\n        - traefik.http.routers.traefik-auth.middlewares=auth\n        - traefik.http.middlewares.auth.basicauth.users=${BASIC_AUTH}\nnetworks:\n  proxy:\n    external: true\n</code></pre>"},{"location":"Docker/Stack/Proxy/traefik/#_2","title":"\u90e8\u7f72\u8fd0\u884c","text":"<p>\u751f\u6210\u5bc6\u7801 : <code>echo $(htpasswd -nB admin)</code></p> <p>\u5728yml\u76f4\u63a5\u586b\u5199 : <code>echo $(htpasswd -nB admin) | sed -e s/\\\\$/\\\\$\\\\$/g</code></p> Bash<pre><code>export BASIC_AUTH=$(htpasswd -nB admin)\ndocker stack deploy -c proxy-stack.yml proxy\n</code></pre>"},{"location":"ESXI/dcui/","title":"ESXI DCUI \u754c\u9762","text":""},{"location":"ESXI/dcui/#esxi-ssh","title":"\u542f\u7528 ESXI \u4e3b\u673a\u7684 SSH \u670d\u52a1","text":"<p>\u901a\u8fc7 SSH \u8fde\u63a5\u5230 ESXI \u4e3b\u673a</p>"},{"location":"ESXI/dcui/#dcui","title":"\u663e\u793a DCUI","text":"<p>\u5728\u7ec8\u7aef\u6a21\u62df\u5668\u4e2d\u8f93\u5165 <code>dcui</code></p> <p>\u9700\u8981\u7ec8\u7aef\u6a21\u62df\u5668\u652f\u6301 \u5982: MobaXterm ..</p>"},{"location":"ESXI/passthru%20gpu/","title":"ESXI \u76f4\u901a NVIDIA \u663e\u5361","text":""},{"location":"ESXI/passthru%20gpu/#esxi","title":"\u8bbe\u7f6e ESXI:","text":"<ul> <li>\u9009\u62e9\u8981\u76f4\u901a\u7684\u663e\u5361 \u8bbe\u7f6e\u5207\u6362\u76f4\u901a</li> <li>\u91cd\u65b0\u5f15\u5bfc ESXI \u4e3b\u673a\u4ee5\u5e94\u7528\u8bbe\u7f6e</li> </ul>"},{"location":"ESXI/passthru%20gpu/#_1","title":"\u8bbe\u7f6e\u865a\u62df\u673a:","text":"<ul> <li>\u6dfb\u52a0 PCI \u8bbe\u5907 =&gt; \u9009\u62e9\u663e\u5361\u8bbe\u5907</li> <li>\u9884\u7559\u6240\u6709\u4e3b\u673a\u5185\u5b58</li> <li>\u865a\u62df\u673a\u9009\u9879 =&gt; \u9ad8\u7ea7 =&gt; \u7f16\u8f91\u914d\u7f6e</li> <li>\u6dfb\u52a0 hypervisor.cpuid.v0 = FALSE</li> </ul>"},{"location":"ESXI/passthru%20rdm/","title":"ESXI RDM \u78c1\u76d8\u76f4\u901a","text":""},{"location":"ESXI/passthru%20rdm/#rdm","title":"\u8bbe\u7f6e RDM \u76f4\u901a","text":"<ul> <li>\u5f00\u542f ESXI \u4e3b\u673a\u7684 ssh \u670d\u52a1</li> <li>ssh \u8fde\u63a5 ESXI \u4e3b\u673a</li> <li><code>bash   vmkfstools -z [\u78c1\u76d8\u8def\u5f84] [\u6570\u636e\u5b58\u50a8\u8def\u5f84]/[\u78c1\u76d8\u6587\u4ef6\u540d\u79f0].vmdk   # example   vmkfstools -z /vmfs/devices/disks/t10.ATA_____TOSHIBA_HDWE140_________________________________41J8K86KFBRG /vmfs/volumes/6300a399-8e448fa0-c392-b42e999d1004/HDD_4TB_TSB.vmdk</code></li> <li>\u64cd\u4f5c\u6210\u529f\u540e\u65e0\u63d0\u793a</li> <li>\u6570\u636e\u5b58\u50a8\u4e2d\u51fa\u73b0\u65b0\u7684\u865a\u62df\u78c1\u76d8</li> </ul>"},{"location":"ESXI/passthru%20sata/","title":"ESXI SATA \u63a7\u5236\u5668\u76f4\u901a","text":""},{"location":"ESXI/passthru%20sata/#_1","title":"\u76f4\u901a\u8d77\u56e0","text":"<p>\u5728 RDM \u76f4\u901a\u78c1\u76d8\u540e,Truenas \u7b49\u65e0\u6cd5\u8bfb\u53d6\u78c1\u76d8\u6e29\u5ea6\u548c S.M.A.R.T \u4fe1\u606f</p> <p>\u56e0\u6b64\u8003\u8651\u76f4\u901a SATA \u63a7\u5236\u5668\u7ed9 Truenas</p>"},{"location":"ESXI/passthru%20sata/#_2","title":"\u8bbe\u7f6e\u4e3b\u673a","text":"<ul> <li>\u9009\u62e9\u8981\u76f4\u901a\u7684 SATA \u63a7\u5236\u5668,\u8bbe\u7f6e\u5207\u6362\u76f4\u901a</li> </ul> \u5c5e\u6027 \u503c \u8bbe\u5907\u540d ASMedia Technology Inc. SATA controller \u8bbe\u5907 ID 0x1166 \u4f9b\u5e94\u5546 ID 0x1b21 <ul> <li>\u7ba1\u7406 -&gt; \u7cfb\u7edf -&gt; \u9ad8\u7ea7\u8bbe\u7f6e -&gt; \u8bbe\u7f6e VMkernel.Boot.disableACSCheck \u503c\u4e3a true</li> </ul>"},{"location":"ESXI/passthru%20sata/#_3","title":"\u4fee\u6539\u4e3b\u673a\u76f4\u901a\u8bbe\u7f6e","text":"<ul> <li>\u5f00\u542f ESXI \u4e3b\u673a\u7684 ssh \u670d\u52a1</li> <li>ssh \u8fde\u63a5 ESXI \u4e3b\u673a</li> <li>\u4fee\u6539 passthru.map \u6587\u4ef6 <code>vi /etc/vmware/passthru.map</code></li> <li>\u5728\u672b\u5c3e\u6dfb\u52a0<code>\u4f9b\u5e94\u5546id \u8bbe\u5907id d3d0     false</code> INI<pre><code># PCIE SATA Controller\n1b21  1166  d3d0     false\n</code></pre></li> <li> <p>\u53bb\u6389 0x \u540e\u7684\u503c\u5373\u4e3a\u6240\u9700\u8981\u7684 id</p> </li> <li> <p>\u91cd\u542f Esxi \u4e3b\u673a\u5373\u53ef</p> </li> </ul>"},{"location":"ESXI/rtl8125%20driver/","title":"ESXI RTL8125 \u7f51\u5361\u9a71\u52a8\u5b89\u88c5","text":""},{"location":"ESXI/rtl8125%20driver/#_1","title":"\u7f51\u5361\u9a71\u52a8\u4e0b\u8f7d","text":"<p>\u6b64 r8125 \u9a71\u52a8\u4ec5\u652f\u6301 ESXI 6.7 \u7248\u672c</p> <p>\u4e0b\u8f7d\u94fe\u63a5</p>"},{"location":"ESXI/rtl8125%20driver/#_2","title":"\u4e0a\u4f20\u9a71\u52a8","text":"<p>\u901a\u8fc7<code>scp</code>\u547d\u4ee4\u5c06 VIB \u9a71\u52a8\u6587\u4ef6\u4e0a\u4f20\u81f3 ESXI \u670d\u52a1\u5668\u7684 <code>/tmp</code> \u76ee\u5f55</p>"},{"location":"ESXI/rtl8125%20driver/#_3","title":"\u5b89\u88c5\u9a71\u52a8","text":"<p>\u4f7f\u7528 esxcli \u547d\u4ee4</p> Bash<pre><code>esxcli software vib install -v /tmp/Realtek_bootbank_net-r8125_9.007.01-1.vib\n</code></pre>"},{"location":"ESXI/rtl8125%20driver/#_4","title":"\u91cd\u542f\u4e3b\u673a","text":"<p>\u68c0\u67e5\u7f51\u5361\u72b6\u6001</p>"},{"location":"Linux/common/","title":"Linux \u5e38\u7528\u8bbe\u7f6e","text":""},{"location":"Linux/common/#_1","title":"\u5e38\u7528\u8f6f\u4ef6\u5b89\u88c5","text":"<p>\u5b89\u88c5\u8f6f\u4ef6 : <code>apt install vim curl</code></p>"},{"location":"Linux/common/#_2","title":"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf","text":"<p>\u4ee5 anaconda \u4e3a\u4f8b : <code>export PATH=$PATH:/usr/local/anaconda3/bin</code></p>"},{"location":"Linux/common/#_3","title":"\u8bbe\u7f6e\u65f6\u533a","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u9996\u5b57\u6bcd\u5feb\u901f\u641c\u7d22 : <code>dpkg-reconfigure tzdata</code></p>"},{"location":"Linux/common/#python","title":"Python \u7248\u672c\u8bbe\u7f6e","text":"Bash<pre><code>sudo update-alternatives --install /usr/bin/python python /usr/bin/python2 100\nsudo update-alternatives --install /usr/bin/python python /usr/bin/python3 150\n</code></pre>"},{"location":"Linux/common/#ssh","title":"SSH \u514d\u5bc6\u767b\u5f55","text":"<p>\u5728\u5ba2\u6237\u673a\u751f\u4ea7\u5bc6\u94a5\u5bf9 (id_rsa, id_rsa.pub) : <code>ssh-keygen -t rsa</code></p> <p>\u5c06\u516c\u94a5\u5185\u5bb9\u6dfb\u52a0\u5230\u670d\u52a1\u5668\u673a\u5668 (id_rsa.pub)</p> Bash<pre><code>cd /root/.ssh/\n# echo \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDJXhPHzYyT8pkIIkACZ85KwgTA3/BuFNtj1qbOFvQvUU19Z9SIgZoCYZR+vhGKpLESmj9HnQydfDn6H5lqslsmyis2kXqSYtmYwDGRYERXtg+gLIHItlmJOGmNw5i6EAe24JXjlGZnmxP64TOQieDT/EdiE2g+Wdlg8JsAPGfdc/2gpqNuevRbIYCUJAiPTdXSZvYNVac+CIaxfeRwaED77iMbNX7mMCLGhHQSAbQjW7Tykyr6+fTFN1gc7OyJmMvptOU6dDxn4BL4XooNFVZv5Gl28UdPzdrwVYmFETRjIfkzY//QX9qS99p3d9g/lIITnti6H1RTI0AXS9MagRwRhGH4AwJHWDiUy/UquvnoTVCGJ5TN/mRznnc10qsmjrZXVGOkL5eq5SGYeIbvqvZD+8xj6BsFbyuWICvXnFA/6PpFPq8Fk35l4Aksgr3/09UD08LwDgzjMsSaSrrCdTfLCCYzBvL4xMEVpmlx0lewbNcF9ntuPyiLnIsqeD36VE8= root@Test\" &gt; authorized_keys\necho \"ssh-rsa XXX\" &gt; authorized_keys\nchmod 600 authorized_keys\n</code></pre> <p>\u6ce8\u610f\u786e\u4fdd authorized_keys \u6587\u4ef6\u6743\u9650\u4e3a 600</p>"},{"location":"Linux/debian/","title":"Debian \u5e38\u7528\u8bbe\u7f6e","text":""},{"location":"Linux/debian/#_1","title":"\u6362\u6e90","text":"Bash<pre><code>sed -i 's|deb.debian.org|mirrors.aliyun.com|g' /etc/apt/sources.list\nsed -i 's|security.debian.org|mirrors.aliyun.com|g' /etc/apt/sources.list\n</code></pre>"},{"location":"Linux/debian/#_2","title":"\u7f51\u7edc\u8bbe\u7f6e","text":"Bash<pre><code>source /etc/network/interfaces.d/*\n\n# The loopback network interface\nauto lo\niface lo inet loopback\n\n# The primary network interface\nallow-hotplug ens192\niface ens192 inet static\naddress 10.0.0.250\nnetmask 255.0.0.0\ngateway 10.0.0.1\nmetric 0\n\niface ens192 inet6 auto\n</code></pre>"},{"location":"Linux/he-ipv6-tunnel/","title":"HE IPv6 \u96a7\u9053","text":""},{"location":"Linux/he-ipv6-tunnel/#_1","title":"\u672c\u6587\u76ee\u6807","text":"<p>\u90e8\u5206\u4e91\u4e3b\u673a\u4ec5\u6709 IPV4 \u5730\u5740,\u901a\u8fc7 HE Tunnel Broker \u4e3a\u5176\u6dfb\u52a0 IPV6 \u5730\u5740.</p>"},{"location":"Linux/he-ipv6-tunnel/#_2","title":"\u521b\u5efa\u96a7\u9053","text":"<p>\u5728 Tunnel Broker \u5b98\u7f51\u6ce8\u518c\u8d26\u53f7</p> <ul> <li>HE Tunnel Broker \u5b98\u7f51</li> </ul> <p>\u767b\u5f55\u8d26\u53f7\u5e76\u521b\u5efa\u96a7\u9053,\u70b9\u51fb <code>Create Regular Tunnel</code> \u6309\u94ae.</p> <p>\u8f93\u5165 VPS \u7684 <code>IPV4</code> \u5730\u5740\u5e76\u9009\u62e9\u5408\u9002\u7684\u8282\u70b9.</p>"},{"location":"Linux/he-ipv6-tunnel/#_3","title":"\u914d\u7f6e\u7f51\u7edc\u53c2\u6570","text":"<p>\u4fee\u6539\u7f51\u7edc\u914d\u7f6e</p> <p>\u5728 <code>Example Configurations</code> \u4e2d\u9009\u62e9\u5bf9\u5e94\u7684\u64cd\u4f5c\u7cfb\u7edf</p> <p>\u5c06\u663e\u793a\u7684\u7f51\u7edc\u914d\u7f6e\u5185\u5bb9\u6dfb\u52a0\u5230\u4e3b\u673a\u4e2d</p> <p>NAT \u540e\u7684\u4e3b\u673a\u9700\u8981\u586b\u5199\u5185\u7f51 ip \u800c\u975e\u516c\u7f51 ip</p> <p>\u91cd\u542f\u4e3b\u673a <code>reboot</code></p>"},{"location":"Linux/he-ipv6-tunnel/#ipv6","title":"\u6d4b\u8bd5 IPV6 \u662f\u5426\u6b63\u5e38","text":"Bash<pre><code>root@vps:~# ping 6.ipw.cn\nPING 6.ipw.cn(2402:4e00:1013:e500:0:9671:f018:4947 (2402:4e00:1013:e500:0:9671:f018:4947)) 56 data bytes\n64 bytes from 2402:4e00:1013:e500:0:9671:f018:4947 (2402:4e00:1013:e500:0:9671:f018:4947): icmp_seq=1 ttl=49 time=370 ms\n64 bytes from 2402:4e00:1013:e500:0:9671:f018:4947 (2402:4e00:1013:e500:0:9671:f018:4947): icmp_seq=2 ttl=49 time=373 ms\n64 bytes from 2402:4e00:1013:e500:0:9671:f018:4947 (2402:4e00:1013:e500:0:9671:f018:4947): icmp_seq=3 ttl=49 time=386 ms\n64 bytes from 2402:4e00:1013:e500:0:9671:f018:4947 (2402:4e00:1013:e500:0:9671:f018:4947): icmp_seq=4 ttl=49 time=391 ms\n</code></pre>"},{"location":"Linux/rclone/","title":"Rclone \u5e38\u7528\u547d\u4ee4","text":""},{"location":"Linux/rclone/#dedupe","title":"Dedupe \u53bb\u91cd\u547d\u4ee4","text":"<p>Rclone \u63d0\u4f9b\u591a\u79cd <code>--dedupe-mode</code> \u6a21\u5f0f\u6765\u5904\u7406\u91cd\u590d\u6587\u4ef6</p> \u6a21\u5f0f \u63cf\u8ff0 <code>interactive</code> \u4e92\u52a8\u6a21\u5f0f\uff1a\u6bcf\u6b21\u51b2\u7a81\u65f6\u8be2\u95ee\u7528\u6237\u5982\u4f55\u5904\u7406 <code>skip</code> \u5220\u9664\u5b8c\u5168\u76f8\u540c\u7684\u6587\u4ef6\uff0c\u8df3\u8fc7\u5269\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff08\u4e0d\u5904\u7406\uff09 <code>first</code> \u5220\u9664\u5176\u4ed6\u91cd\u590d\u6587\u4ef6\uff0c\u4ec5\u4fdd\u7559\u7b2c\u4e00\u4e2a\u6587\u4ef6 <code>newest</code> \u5220\u9664\u5176\u4ed6\u91cd\u590d\u6587\u4ef6\uff0c\u4ec5\u4fdd\u7559\u6700\u65b0\u4fee\u6539\u65f6\u95f4\u7684\u6587\u4ef6 <code>oldest</code> \u5220\u9664\u5176\u4ed6\u91cd\u590d\u6587\u4ef6\uff0c\u4ec5\u4fdd\u7559\u6700\u65e9\u4fee\u6539\u65f6\u95f4\u7684\u6587\u4ef6 <code>largest</code> \u5220\u9664\u5176\u4ed6\u91cd\u590d\u6587\u4ef6\uff0c\u4ec5\u4fdd\u7559\u6587\u4ef6\u5927\u5c0f\u6700\u5927\u7684 <code>smallest</code> \u5220\u9664\u5176\u4ed6\u91cd\u590d\u6587\u4ef6\uff0c\u4ec5\u4fdd\u7559\u6587\u4ef6\u5927\u5c0f\u6700\u5c0f\u7684 <code>rename</code> \u5220\u9664\u91cd\u590d\u6587\u4ef6\uff0c\u5e76\u5c06\u5176\u4f59\u7684\u6587\u4ef6\u91cd\u547d\u540d\u907f\u514d\u51b2\u7a81 <code>list</code> \u4ec5\u5217\u51fa\u91cd\u590d\u6587\u4ef6\uff0c\u4e0d\u8fdb\u884c\u4efb\u4f55\u4fee\u6539 <p>\u26a0\ufe0f \u4f7f\u7528 <code>--by-hash</code> \u53ef\u4ee5\u57fa\u4e8e\u6587\u4ef6\u54c8\u5e0c\u503c\u5224\u65ad\u91cd\u590d</p> <p>\u5e38\u7528\u53c2\u6570\u8bf4\u660e</p> <ul> <li>-n, --dry-run\uff1a\u8bd5\u8fd0\u884c\u65e0\u5b9e\u9645\u66f4\u6539</li> <li>-i, --interactive\uff1a\u542f\u7528\u4ea4\u4e92\u6a21\u5f0f</li> <li>-v, --verbose\uff1a\u8f93\u51fa\u8be6\u7ec6\u4fe1\u606f</li> </ul> Bash<pre><code># \u5217\u51fa\u91cd\u590d\u6587\u4ef6\uff08\u57fa\u4e8e\u54c8\u5e0c\uff09\nrclone dedupe --by-hash --dedupe-mode list path\n\n# \u81ea\u52a8\u4fdd\u7559\u6700\u65b0\u6587\u4ef6\nrclone dedupe --by-hash --dedupe-mode newest path\n\n# \u81ea\u52a8\u4fdd\u7559\u6700\u65e7\u6587\u4ef6\nrclone dedupe --by-hash --dedupe-mode oldest path\n</code></pre>"},{"location":"Linux/rclone/#docker","title":"Docker \u914d\u7f6e\u6587\u4ef6","text":"docker-compose.yml<pre><code>services:\n  rclone:\n    image: rclone/rclone\n    container_name: rclone\n    network_mode: bridge\n    privileged: true\n    volumes:\n      - /root/.config/rclone/:/config/rclone\n      - /mnt/onedrive:/onedrive:shared\n    command: &gt;\n      mount onedrive:/ /onedrive\n      --no-modtime\n      --allow-other\n      --allow-non-empty\n      --vfs-cache-mode full\n      --vfs-cache-max-age 24h\n      --vfs-cache-max-size 50G\n    restart: always\n</code></pre>"},{"location":"Linux/Desktop/gdm/","title":"GDM \u81ea\u52a8\u767b\u5f55","text":""},{"location":"Linux/Desktop/gdm/#_1","title":"\u8bbe\u7f6e\u81ea\u52a8\u767b\u5f55","text":"<p>sudo vim /etc/gdm3/custom.conf</p> INI<pre><code>AutomaticLoginEnable=True \nAutomaticLogin=root\n</code></pre>"},{"location":"Linux/Desktop/microsoft-edge/","title":"Microsoft Edge \u5b89\u88c5","text":""},{"location":"Linux/Desktop/microsoft-edge/#_1","title":"\u5b89\u88c5\u6240\u9700\u7684\u8f6f\u4ef6\u5305","text":"Bash<pre><code>sudo apt install apt-transport-https ca-certificates curl software-properties-common wget -y\n</code></pre>"},{"location":"Linux/Desktop/microsoft-edge/#gpg","title":"\u6dfb\u52a0 GPG \u548c\u5b98\u65b9\u6e90","text":"Bash<pre><code># GPG\nsudo wget -O- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor | sudo tee /usr/share/keyrings/microsoft-edge.gpg\n# \u5b98\u65b9\u6e90\necho 'deb [arch=amd64 signed-by=/usr/share/keyrings/microsoft-edge.gpg] https://packages.microsoft.com/repos/edge stable main' | sudo tee /etc/apt/sources.list.d/microsoft-edge.list\n</code></pre>"},{"location":"Linux/Desktop/microsoft-edge/#edge","title":"\u5b89\u88c5 edge","text":"Text Only<pre><code>sudo apt update\nsudo apt install microsoft-edge-stable\n</code></pre>"},{"location":"Linux/Nvidia/nvidia-container-toolkit/","title":"Nvidia \u5bb9\u5668\u5de5\u5177\u5305\u5b89\u88c5","text":""},{"location":"Linux/Nvidia/nvidia-container-toolkit/#_1","title":"\u5de5\u5177\u5305\u6982\u8ff0","text":"<p>\u80fd\u591f\u4e3a\u5bb9\u5668\u4f7f\u7528 Nvidia GPU \u52a0\u901f\u63d0\u4f9b\u652f\u6301</p> <p>\u5b98\u65b9\u6587\u6863</p> <p></p>"},{"location":"Linux/Nvidia/nvidia-container-toolkit/#_2","title":"\u5b89\u88c5\u524d\u63d0","text":"<ul> <li>\u5df2\u5b89\u88c5 Docker <code>docker -v</code></li> <li>\u5df2\u5b89\u88c5 Nvidia \u9a71\u52a8 <code>nvidia-smi</code></li> </ul>"},{"location":"Linux/Nvidia/nvidia-container-toolkit/#_3","title":"\u901a\u8fc7\u811a\u672c\u81ea\u52a8\u5b89\u88c5","text":"<p>\u5b98\u65b9\u811a\u672c</p> Bash<pre><code>distribution=$(. /etc/os-release;echo $ID$VERSION_ID) \\\n&amp;&amp; curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg \\\n&amp;&amp; curl -s -L https://nvidia.github.io/libnvidia-container/$distribution/libnvidia-container.list | \\\nsed 's#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g' | \\\nsudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list\n</code></pre>"},{"location":"Linux/Nvidia/nvidia-container-toolkit/#_4","title":"\u81ea\u884c\u6307\u5b9a\u53d1\u884c\u7248\u5b89\u88c5","text":"<p>\u4ee5 debian10 \u4e3a\u4f8b</p> Bash<pre><code>distribution=debian10 \\\n&amp;&amp; curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg \\\n&amp;&amp; curl -s -L https://nvidia.github.io/libnvidia-container/$distribution/libnvidia-container.list | \\\nsed 's#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g' | \\\nsudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list\n</code></pre>"},{"location":"Linux/Nvidia/nvidia-container-toolkit/#_5","title":"\u9a8c\u8bc1\u5b89\u88c5","text":"<p>\u6d4b\u8bd5\u5bb9\u5668\u80fd\u5426\u6b63\u5e38\u8c03\u7528\u663e\u5361</p> Bash<pre><code>docker run --rm --gpus all nvidia/cuda:11.4.3-base-ubuntu20.04 nvidia-smi\n</code></pre> <p>\u6b63\u5e38\u60c5\u51b5\u4e0b\u8f93\u51fa\u663e\u5361\u4fe1\u606f</p> Bash<pre><code>+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 515.86.01    Driver Version: 515.86.01    CUDA Version: 11.8     |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|                               |                      |               MIG M. |\n|===============================+======================+======================|\n|   0  NVIDIA GeForce ...  Off  | 00000000:0B:00.0 Off |                  N/A |\n|  0%   47C    P5    14W / 185W |      0MiB /  8192MiB |      0%      Default |\n|                               |                      |                  N/A |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                                  |\n|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |\n|        ID   ID                                                   Usage      |\n|=============================================================================|\n|  No running processes found                                                 |\n+-----------------------------------------------------------------------------+\n</code></pre>"},{"location":"Linux/Nvidia/nvidia-driver/","title":"Nvidia \u663e\u5361\u9a71\u52a8\u5b89\u88c5","text":""},{"location":"Linux/Nvidia/nvidia-driver/#_1","title":"\u4fee\u6539\u8f6f\u4ef6\u6e90","text":"<p>\u672b\u5c3e\u6dfb\u52a0 contrib non-free \u4ee5\u6dfb\u52a0\u95ed\u6e90\u8f6f\u4ef6 Bash<pre><code>vim /etc/apt/sources.list\n</code></pre></p>"},{"location":"Linux/Nvidia/nvidia-driver/#_2","title":"\u547d\u4ee4\u884c\u5b89\u88c5","text":"<p>\u66f4\u65b0\u8f6f\u4ef6\u6e90 Bash<pre><code>apt update\napt install nvidia-driver\n</code></pre> \u91cd\u542f\u7cfb\u7edf <code>reboot</code></p>"},{"location":"Linux/Nvidia/nvidia-driver/#_3","title":"\u9a8c\u8bc1\u9a71\u52a8","text":"<p>\u8f93\u5165 <code>nvidia-smi</code> </p> \u8f93\u51fa\u793a\u4f8b<pre><code>+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 515.105.01   Driver Version: 515.105.01   CUDA Version: 11.7     |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|                               |                      |               MIG M. |\n|===============================+======================+======================|\n|   0  NVIDIA GeForce ...  Off  | 00000000:0B:00.0 Off |                  N/A |\n|  0%   48C    P5    16W / 185W |      0MiB /  8192MiB |      1%      Default |\n|                               |                      |                  N/A |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                                  |\n|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |\n|        ID   ID                                                   Usage      |\n|=============================================================================|\n|  No running processes found                                                 |\n+-----------------------------------------------------------------------------+\n</code></pre>"},{"location":"Linux/Router/AX3KT/","title":"AX3KT SSH \u56fa\u5316","text":""},{"location":"Linux/Router/AX3KT/#sn","title":"SN \u4fe1\u606f","text":"SN PASS AX1 49850/F3UW98898 5188618f AX2 49850/F3UR03568 b2436fa5"},{"location":"Linux/Router/AX3KT/#ssh","title":"\u5f00\u542f SSH","text":"<ul> <li>\u8f6f\u56fa\u5316</li> </ul> Bash<pre><code>nvram set ssh_en=1\nnvram set telnet_en=1\nnvram set uart_en=1\nnvram set boot_wait=on\nnvram commit\nsed -i 's/channel=.*/channel=\"debug\"/g' /etc/init.d/dropbear\n/etc/init.d/dropbear restart\necho -e 'admin\\nadmin' | passwd root\n</code></pre> <ul> <li>\u786c\u56fa\u5316</li> </ul> Bash<pre><code>zz=$(dd if=/dev/zero bs=1 count=2 2&gt;/dev/null) ; printf '\\xA5\\x5A%c%c' $zz $zz | mtd write - crash\nreboot\n\n# \u91cd\u542f\u540e\u7ee7\u7eed\nnvram set ssh_en=1\nnvram set telnet_en=1\nnvram set uart_en=1\nnvram set boot_wait=on\nnvram commit\nbdata set ssh_en=1\nbdata set telnet_en=1\nbdata set uart_en=1\nbdata set boot_wait=on\nbdata commit\nreboot\n\n# \u91cd\u542f\u540e\u7ee7\u7eed\nmtd erase crash\nreboot\n</code></pre>"},{"location":"Linux/Router/AX3KT/#telnet-ssh","title":"\u786c\u56fa\u5316\u540e\u901a\u8fc7 Telnet \u5f00\u542f SSH","text":"Bash<pre><code>sed -i '/flg_ssh=`nvram get ssh_en`/{:loop; N; /\\n.*channel=`\\/sbin\\/uci get \\/usr\\/share\\/xiaoqiang\\/xiaoqiang_version.version.CHANNEL`\\n.*return 0\\n.\\*fi/!b loop; d}' /etc/init.d/dropbear\n/etc/init.d/dropbear restart\necho -e 'admin\\nadmin' | passwd root\n</code></pre>"},{"location":"Linux/Router/AX6S/","title":"AX6S \u5237\u5165 OpenWrt","text":""},{"location":"Linux/Router/AX6S/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<ol> <li>\u5237\u5165\u5f00\u53d1\u677f\u56fa\u4ef6\u5f00\u542f Telnet</li> <li>\u767b\u5f55\u7ba1\u7406\u754c\u9762\u83b7\u53d6 SN \u7801</li> </ol>"},{"location":"Linux/Router/AX6S/#ssh","title":"\u5f00\u542f SSH","text":"<p>\u901a\u8fc7 SN \u7801\u8ba1\u7b97 root \u5bc6\u7801 -&gt; \u5b98\u65b9\u7f51\u5740</p> <p>\u901a\u8fc7 Telnet \u767b\u5f55 root \u7528\u6237</p> Bash<pre><code>telnet 192.168.31.1\n</code></pre> <p>\u901a\u8fc7\u547d\u4ee4\u884c\u5f00\u542f SSH \u670d\u52a1</p> Bash<pre><code>nvram set ssh_en=1 &amp; nvram set uart_en=1 &amp; nvram set boot_wait=on &amp; nvram set bootdelay=3 &amp; nvram set flag_try_sys1_failed=0 &amp; nvram set flag_try_sys2_failed=1\nnvram set flag_boot_rootfs=0 &amp; nvram set \"boot_fw1=run boot_rd_img;bootm\"\nnvram set flag_boot_success=1 &amp; nvram commit &amp; /etc/init.d/dropbear enable &amp; /etc/init.d/dropbear start\n</code></pre>"},{"location":"Linux/Router/AX6S/#_2","title":"\u5237\u5165\u5e95\u5305","text":"<p>\u4e0a\u4f20\u5e95\u5305</p> Bash<pre><code>scp factory.bin 192.168.31.1:/tmp\n</code></pre> <p>\u5199\u5165\u5e95\u5305</p> Bash<pre><code>mtd -r write /tmp/factory.bin firmware\n</code></pre>"},{"location":"Linux/Router/AX6S/#_3","title":"\u5347\u7ea7\u7cfb\u7edf","text":"<p>\u8def\u7531\u5668\u91cd\u542f\u540e\u901a\u8fc7 openwrt \u5347\u7ea7\u754c\u9762\u5237\u5165\u6700\u65b0\u7cfb\u7edf</p>"},{"location":"Linux/Router/AX9K/","title":"AX9K \u5237\u5165 OpenWrt","text":""},{"location":"Linux/Router/AX9K/#ssh","title":"\u89e3\u9501 SSH","text":"<p>\u901a\u8fc7\u5f00\u53d1\u7248 docker \u6302\u8f7d\u5bbf\u4e3b\u673a\u8def\u5f84\u5f00\u542f SSH \u56fa\u5316 SSH \u540e \u901a\u8fc7 Telnet \u5f00\u542f SSH,\u5e76\u4fee\u6539 root \u5bc6\u7801\u4e3a admin\uff1a</p> Bash<pre><code>sed -i 's/channel=.*/channel=\"debug\"/g' /etc/init.d/dropbear\n/etc/init.d/dropbear start\necho -e 'admin\\nadmin' | passwd root\n</code></pre>"},{"location":"Linux/Router/AX9K/#_1","title":"\u65e0\u7ebf\u7f51\u7edc\u95ee\u9898","text":"<p>5.2G \u7f51\u7edc\u65e0\u6cd5\u8fde\u63a5</p> <p>\u89e3\u51b3\u65b9\u6848</p>"},{"location":"Linux/Router/AX9K/#_2","title":"\u786e\u5b9a\u5f53\u524d\u4f7f\u7528\u5206\u533a","text":"Bash<pre><code>nvram get flag_last_success\n</code></pre> \u7ed3\u679c \u5f53\u524d\u4f7f\u7528\u5206\u533a \u5c06\u8981\u5237\u5165\u5206\u533a 0 /dev/mtd21 /dev/mtd22 1 /dev/mtd22 /dev/mtd21 <p>\u53ef\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5207\u6362\u5206\u533a</p> Bash<pre><code>nvram set flag_last_success=0\nnvram set flag_boot_rootfs=0\nnvram commit\nreboot\n</code></pre>"},{"location":"Linux/Router/AX9K/#_3","title":"\u5237\u5165\u5e95\u5305","text":"<p>\u901a\u8fc7 SSH \u5c06\u5e95\u5305\u4e0a\u4f20\u5230<code>/tmp</code>\u76ee\u5f55</p> <p>\u5f53\u524d\u5206\u533a\u4e3a flag \u4e3a 0</p> Bash<pre><code>ubiformat /dev/mtd22 -y -f /tmp/openwrt-xxxx-factory.ubi\nnvram set flag_last_success=1\nnvram set flag_boot_rootfs=1\nnvram commit\nreboot\n</code></pre> <p>\u5f53\u524d\u5206\u533a\u4e3a flag \u4e3a 1</p> Bash<pre><code>ubiformat /dev/mtd21 -y -f /tmp/openwrt-xxxx-factory.ubi\nnvram set flag_last_success=0\nnvram set flag_boot_rootfs=0\nnvram commit\nreboot\n</code></pre>"},{"location":"Linux/Router/AX9K/#_4","title":"\u5347\u7ea7\u7cfb\u7edf","text":"<p>\u8def\u7531\u5668\u91cd\u542f\u540e\u901a\u8fc7 Openwrt \u5347\u7ea7\u754c\u9762\u5237\u5165\u6700\u65b0\u7cfb\u7edf</p>"},{"location":"Linux/Router/AX9K/#_5","title":"\u5207\u6362\u4e3a\u539f\u7cfb\u7edf","text":"Bash<pre><code>fw_setenv flag_last_success 0\nfw_setenv flag_boot_rootfs 0\nreboot\n</code></pre>"},{"location":"Linux/Storage/nfs/","title":"NFS \u670d\u52a1\u642d\u5efa\u548c\u4f7f\u7528","text":""},{"location":"Linux/Storage/nfs/#nfs_1","title":"NFS \u670d\u52a1\u7aef\u642d\u5efa","text":""},{"location":"Linux/Storage/nfs/#nfs_2","title":"\u5b89\u88c5\u5e76\u542f\u52a8 NFS \u670d\u52a1","text":"<p>\u5b89\u88c5\u670d\u52a1 <code>apt install nfs-kernel-server</code></p> <p>\u68c0\u67e5\u670d\u52a1\u72b6\u6001</p> Bash<pre><code>systemctl status nfs-server\nsystemctl enable nfs-server\nsystemctl start nfs-server\n</code></pre>"},{"location":"Linux/Storage/nfs/#_1","title":"\u4fee\u6539\u670d\u52a1\u914d\u7f6e","text":"<p>\u521b\u5efa\u5171\u4eab\u76ee\u5f55 <code>mkdir /nfs</code></p> /etc/exports<pre><code>/nfs 10.0.0.101(rw,sync,no_root_squash,no_subtree_check)\n/nfs 10.0.0.*(rw,sync,no_root_squash,no_subtree_check)\n/nfs 10.0.0.0/8(rw,sync,no_root_squash,no_subtree_check)\n</code></pre> <p>\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u6743\u9650</p> <ul> <li>rw \u5141\u8bb8\u8bfb\u5199</li> <li>sync \u6587\u4ef6\u540c\u65f6\u5199\u5165\u786c\u76d8\u548c\u5185\u5b58</li> <li>no_subtree_check \u5373\u4f7f\u8f93\u51fa\u76ee\u5f55\u662f\u4e00\u4e2a\u5b50\u76ee\u5f55,\u4e0d\u68c0\u67e5\u5176\u7236\u76ee\u5f55\u7684\u6743\u9650,\u8fd9\u6837\u53ef\u4ee5\u63d0\u9ad8\u6548\u7387</li> </ul>"},{"location":"Linux/Storage/nfs/#_2","title":"\u751f\u6548\u914d\u7f6e\u5e76\u68c0\u67e5","text":"<p>\u751f\u6548\u914d\u7f6e\u6587\u4ef6 : <code>exportfs -arv</code></p> <p>\u68c0\u67e5\u751f\u6548\u914d\u7f6e : <code>showmount -e</code></p>"},{"location":"Linux/Storage/nfs/#nfs_3","title":"NFS \u5ba2\u6237\u7aef\u914d\u7f6e","text":""},{"location":"Linux/Storage/nfs/#nfs_4","title":"\u5b89\u88c5 NFS \u5ba2\u6237\u7aef","text":"Bash<pre><code>apt install nfs-common\n</code></pre>"},{"location":"Linux/Storage/nfs/#nfs_5","title":"\u6302\u8f7d NFS \u5171\u4eab\u76ee\u5f55","text":"<p>\u5ba2\u6237\u7aef\u521b\u5efa\u6302\u8f7d\u70b9\u76ee\u5f55</p> Bash<pre><code>mkdir -p /nfs-mount\nmount 10.0.0.30:/nfs /nfs-mount\n</code></pre>"},{"location":"Linux/Storage/nfs/#_3","title":"\u5f00\u673a\u81ea\u52a8\u6302\u8f7d","text":"/etc/fstab<pre><code>10.0.0.30:/nfs     /nfs-mount       nfs     defaults  0  0\n</code></pre>"},{"location":"Linux/Storage/nfs/#_4","title":"\u67e5\u770b\u670d\u52a1\u72b6\u6001","text":"Bash<pre><code>nfsstat\nnfsstat -l\n</code></pre>"},{"location":"Linux/Storage/samba/","title":"SMB \u670d\u52a1\u642d\u5efa\u548c\u4f7f\u7528","text":""},{"location":"Linux/Storage/samba/#smb_1","title":"SMB \u670d\u52a1\u7aef\u914d\u7f6e","text":""},{"location":"Linux/Storage/samba/#smb_2","title":"\u5b89\u88c5 SMB \u670d\u52a1\u7aef","text":"<p>\u5b89\u88c5\u670d\u52a1 <code>apt install samba</code></p>"},{"location":"Linux/Storage/samba/#_1","title":"\u4fee\u6539\u670d\u52a1\u914d\u7f6e","text":"<p>\u521b\u5efa\u5171\u4eab\u76ee\u5f55 <code>mkdir /smb &amp;&amp; chmod -R 777 /smb</code></p> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6</p> /etc/samba/smb.conf<pre><code>[samba]\ncomment = Share Directories\npath = /smb\npublic = yes\nwritable = yes\nbrowseable = yes\ncreate mask = 777\ndirectory mask = 777\n</code></pre>"},{"location":"Linux/Storage/samba/#_2","title":"\u6dfb\u52a0\u8bbf\u95ee\u7528\u6237","text":"<p>\u6dfb\u52a0\u7528\u6237 admin</p> Bash<pre><code>useradd admin\nsmbpasswd -a admin\n</code></pre>"},{"location":"Linux/Storage/samba/#smb_3","title":"\u542f\u52a8 SMB \u670d\u52a1","text":"Bash<pre><code>service smbd start      #\u542f\u52a8\nservice smbd stop       #\u505c\u6b62\nservice smbd restart    #\u91cd\u542f\n</code></pre>"},{"location":"Linux/Storage/samba/#smb_4","title":"SMB \u5ba2\u6237\u7aef\u6302\u8f7d","text":""},{"location":"Linux/Storage/samba/#smb_5","title":"\u5b89\u88c5 SMB \u5ba2\u6237\u7aef","text":"<p>\u5b89\u88c5\u5ba2\u6237\u7aef <code>apt install cifs-utils</code></p>"},{"location":"Linux/Storage/samba/#_3","title":"\u521b\u5efa\u6302\u8f7d\u70b9\u5e76\u6302\u8f7d","text":"Bash<pre><code>mkdir /share\nmount //10.0.0.30/smb /smb -o username=admin,password=123456,uid=0,gid=0\n</code></pre>"},{"location":"Linux/Storage/samba/#_4","title":"\u5f00\u673a\u81ea\u52a8\u6302\u8f7d","text":"/etc/fstab<pre><code>//10.0.0.30/smb /smb/ cifs defaults,username=admin,password=123456,uid=0,gid=0 0 0\n</code></pre>"},{"location":"Windows/common/","title":"Windows \u5e38\u7528\u8bbe\u7f6e\u4f18\u5316","text":""},{"location":"Windows/common/#_1","title":"\u6fc0\u6d3b\u7cfb\u7edf","text":"<p>\u6839\u636e\u7cfb\u7edf\u7248\u672c\u7248\u672c\u9009\u62e9\u5bc6\u94a5</p> Operating system edition KMS Client Product Key Windows 10 Professional W269N-WFGWX-YVC9B-4J6C9-T83GX Windows Server 2025 Standard TVRH6-WHNXV-R9WG3-9XRFY-MY832 Windows Server 2025 Datacenter D764K-2NDRG-47T6Q-P8T8W-YP6DF Windows Server 2025 Datacenter: Azure Edition XGN3F-F394H-FD2MY-PP6FD-8MCRC <p>\u7ba1\u7406\u5458\u6743\u9650\u8fd0\u884c</p> Bash<pre><code># \u5378\u8f7d\u65e7\u7684\u5bc6\u94a5\nslmgr.vbs /upk\n# \u5b89\u88c5\u5bc6\u94a5\nslmgr /ipk W269N-WFGWX-YVC9B-4J6C9-T83GX\nslmgr /skms www.zoxe.top\nslmgr /ato\n</code></pre>"},{"location":"Windows/common/#_2","title":"\u6dfb\u52a0\u4f11\u7720\u7535\u6e90\u9009\u9879","text":"<ol> <li>\u6253\u5f00\u63a7\u5236\u9762\u677f</li> <li>\u786c\u4ef6\u548c\u58f0\u97f3-&gt; \u7535\u6e90\u9009\u9879 <code>\u63a7\u5236\u9762\u677f\\\u6240\u6709\u63a7\u5236\u9762\u677f\u9879\\\u7535\u6e90\u9009\u9879</code></li> <li>\u9009\u62e9\u7535\u6e90\u6309\u94ae\u7684\u529f\u80fd -&gt; \u66f4\u6539\u5f53\u524d\u4e0d\u53ef\u7528\u7684\u8bbe\u7f6e -&gt; \u52fe\u9009 <code>\u4f11\u7720</code> \u9009\u9879</li> </ol>"},{"location":"Windows/common/#_3","title":"\u5f00\u542f\u9ed8\u8ba4\u7ba1\u7406\u5458\u6743\u9650","text":"<ol> <li> <p>WIN + R \u8f93\u5165 <code>secpol.msc</code> \u6253\u5f00\u672c\u5730\u5b89\u5168\u7b56\u7565 (\u4e13\u4e1a\u7248 WINDOWS)</p> </li> <li> <p>\u5b89\u5168\u8bbe\u7f6e -&gt; \u672c\u5730\u7b56\u7565 -&gt; \u5b89\u5168\u9009\u9879 -&gt; \u7528\u6237\u5e10\u6237\u63a7\u5236\uff1a\u4ee5\u7ba1\u7406\u5458\u6279\u51c6\u6a21\u5f0f\u8fd0\u884c\u6240\u6709\u7ba1\u7406\u5458 -&gt; \u5df2\u7981\u7528</p> </li> <li> <p>\u91cd\u542f\u7cfb\u7edf\u4f7f\u8bbe\u7f6e\u751f\u6548</p> </li> </ol>"},{"location":"Windows/develop/","title":"Windows \u5f00\u53d1\u73af\u5883\u8bbe\u7f6e","text":""},{"location":"Windows/develop/#winget","title":"WinGet \u5e38\u7528\u8bbe\u7f6e","text":""},{"location":"Windows/develop/#_1","title":"\u6362\u6e90","text":"Bash<pre><code>winget source remove winget\nwinget source add winget https://mirrors.ustc.edu.cn/winget-source\n</code></pre> <p>\u6062\u590d\u9ed8\u8ba4\u6e90<code>winget source reset winget</code></p>"},{"location":"Windows/develop/#sdk","title":"\u5e38\u89c1 SDK \u4e0b\u8f7d","text":"<p>\u901a\u8fc7 winget \u5305\u7ba1\u7406\u5668\u4e00\u952e\u914d\u7f6e</p> winget java <code>winget install BellSoft.LibericaJDK.8</code> python <code>winget install Python.Python.3.13</code> nodejs <code>winget install OpenJS.NodeJS.LTS</code>"},{"location":"Windows/develop/#_2","title":"\u5e38\u7528\u5de5\u5177\u4e0b\u8f7d","text":"<ul> <li>git <code>winget install Git.Git --interactive</code></li> <li>vscode <code>winget install Microsoft.VisualStudioCode --interactive --scope machine</code></li> </ul> Bash<pre><code># \u4e3a git \u8bbe\u7f6e\u4ee3\u7406\ngit config --global http.proxy socks5://127.0.0.1:10808\ngit config --global https.proxy socks5://127.0.0.1:10808\n</code></pre> <p>\u6dfb\u52a0 <code>--interactive</code> \u53c2\u6570\u53ef\u4ee5\u5b8c\u5168\u63a7\u5236\u5b89\u88c5\u8fc7\u7a0b \u6dfb\u52a0 <code>--scope machine</code> \u53c2\u6570\u53ef\u4ee5\u63a7\u5236\u7248\u672c\u8303\u56f4</p>"},{"location":"Windows/develop/#_3","title":"\u56fa\u5b9a\u8f6f\u4ef6\u7248\u672c","text":"<ul> <li>Bandizip <code>winget pin add --id Bandisoft.Bandizip --version 6.27</code></li> </ul>"},{"location":"Windows/develop/#win-curl","title":"win \u4e0b\u914d\u7f6e curl","text":"<p>\u901a\u8fc7\u8bbe\u7f6e PowerShell Profile \u5220\u9664\u7cfb\u7edf\u81ea\u5e26\u522b\u540d</p> <p>\u5141\u8bb8\u52a0\u8f7d\u81ea\u5b9a\u4e49 Profile <code>set-executionpolicy remotesigned</code></p> \u4f5c\u7528\u8303\u56f4 Profile \u4f4d\u7f6e \u6240\u6709\u7528\u6237 \u6240\u6709\u4e3b\u673a $PSHOME\\Profile.ps1 \u6240\u6709\u7528\u6237 \u5f53\u524d\u4e3b\u673a $PSHOME\\Microsoft.PowerShell_profile.ps1 \u5f53\u524d\u7528\u6237 \u6240\u6709\u4e3b\u673a $HOME\\Documents\\PowerShell\\Profile.ps1 \u5f53\u524d\u7528\u6237 \u5f53\u524d\u4e3b\u673a $HOME\\Documents\\PowerShell\\Microsoft.PowerShell_profile.ps1 C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\Profile.ps1<pre><code># $PSHOME\\Profile.ps1\u3002\ndel alias:curl\n</code></pre> <ul> <li>\u82e5\u547d\u4ee4\u4e0d\u5b58\u5728</li> </ul> <p>\u901a\u8fc7 winget \u5b89\u88c5 curl</p> Bash<pre><code>winget install cURL.cURL\n</code></pre>"},{"location":"Windows/develop/#wsl-root","title":"WSL \u9ed8\u8ba4 root \u7528\u6237","text":"<p>\u4ee5 debian \u4e3a\u4f8b <code>debian config --default-user root</code></p>"},{"location":"Windows/smb/","title":"SMB \u7aef\u53e3\u8f6c\u53d1","text":""},{"location":"Windows/smb/#_1","title":"\u5173\u95ed\u51b2\u7a81\u670d\u52a1","text":"PowerShell<pre><code>cmd /c sc config LanmanServer start=disabled\n# reboot\nshutdown -r \n</code></pre>"},{"location":"Windows/smb/#_2","title":"\u914d\u7f6e\u7aef\u53e3\u8f6c\u53d1","text":"PowerShell<pre><code>netstat -ano | findstr \"445\"\n# \u786e\u8ba4\u8f93\u51fa\u4e3a\u7a7a\n\nnetsh interface portproxy add v4tov4 listenport=445 listenaddress=127.0.0.1 connectport=[smb port] connectaddress=[smb ip]\nnetsh interface portproxy add v6tov6 listenport=445 listenaddress=::1 connectport=[smb port] connectaddress=[smb ip]\n\n# \u67e5\u770b\u8f6c\u53d1\u7ed3\u679c\nnetsh interface portproxy show all\n</code></pre>"},{"location":"Windows/smb/#_3","title":"\u6e05\u9664\u8fde\u63a5\u5386\u53f2\u8bb0\u5f55","text":"<p>\u5220\u9664\u8fdc\u7a0b\u78c1\u76d8\u5386\u53f2\u8bb0\u5f55 <code>regedit</code></p> <p>\u5728\u6ce8\u518c\u8868\u4e2d\u5b9a\u4f4d\u5230 <code>HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Map Network Drive MRU</code></p>"}]}